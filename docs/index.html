<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>AV1 Film Grain Specification</title>
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/css/av1-spec.css">
  <link rel="stylesheet" href="assets/css/syntax-tango.css">
  <link rel="apple-touch-icon" sizes="57x57" href="assets/images/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="assets/images/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="assets/images/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="assets/images/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="assets/images/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="assets/images/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="assets/images/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="assets/images/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="assets/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="assets/images/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/icons/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="assets/images/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
  <script src="assets/js/anchor.min.js"></script>
  <!-- Helper script for the table of contents -->
  <script src="assets/js/toc.js"></script>
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-md-10 col-md-offset-1">

<h1 class="no_toc" id="av1-film-grain-specification">AV1 Film Grain Specification</h1>

<p><em>Last modified: 2022-04-05 20:04 PT</em></p>

<p><strong>Editor</strong><br />
Andrey Norkin, Netflix, Inc.</p>

<div id="draft-legend" class="alert alert-danger">

  <p class="no_toc no_count text-center" style="font-size: 2rem"><strong>Notice</strong></p>

  <p>This is an internal AOMedia working document and <strong>not an approved version</strong> of
the AV1 Film Grain Synthesis specification. The approved AV1 Film Grain Synthesis specification can be found
here: <a href="https://aomediacodec.github.io/av1-FilmGrain/av1-FilmGrain.pdf">https://aomediacodec.github.io/av1-FilmGrain/av1-FilmGrain.pdf</a></p>

</div>

<h2 class="no_toc no_count" id="abstract">Abstract</h2>

<p>This document defines the format and processing for the
standalone <a href="http://aomedia.org/">Alliance for Open Media</a> AV1 film grain synthesis technology.
Signaling of the film grain parameters is done using the ITU-T T.35 registered user metadata.</p>

<h2 class="no_toc no_count" id="contents">Contents</h2>

<ul id="markdown-toc">
  <li><a href="#scope" id="markdown-toc-scope">Scope</a></li>
  <li><a href="#terms-and-definitions" id="markdown-toc-terms-and-definitions">Terms and definitions</a></li>
  <li><a href="#symbols-and-abbreviated-terms" id="markdown-toc-symbols-and-abbreviated-terms">Symbols and abbreviated terms</a></li>
  <li><a href="#conventions" id="markdown-toc-conventions">Conventions</a>    <ul>
      <li><a href="#general" id="markdown-toc-general">General</a></li>
      <li><a href="#arithmetic-operators" id="markdown-toc-arithmetic-operators">Arithmetic operators</a></li>
      <li><a href="#logical-operators" id="markdown-toc-logical-operators">Logical operators</a></li>
      <li><a href="#relational-operators" id="markdown-toc-relational-operators">Relational operators</a></li>
      <li><a href="#bitwise-operators" id="markdown-toc-bitwise-operators">Bitwise operators</a></li>
      <li><a href="#assignment" id="markdown-toc-assignment">Assignment</a></li>
      <li><a href="#mathematical-functions" id="markdown-toc-mathematical-functions">Mathematical functions</a></li>
      <li><a href="#method-of-describing-bitstream-syntax" id="markdown-toc-method-of-describing-bitstream-syntax">Method of describing bitstream syntax</a></li>
      <li><a href="#functions" id="markdown-toc-functions">Functions</a></li>
      <li><a href="#descriptors" id="markdown-toc-descriptors">Descriptors</a>        <ul>
          <li><a href="#general-1" id="markdown-toc-general-1">General</a></li>
          <li><a href="#fn" id="markdown-toc-fn">f(n)</a></li>
          <li><a href="#uvlc" id="markdown-toc-uvlc">uvlc()</a></li>
          <li><a href="#len" id="markdown-toc-len">le(n)</a></li>
          <li><a href="#leb128" id="markdown-toc-leb128">leb128()</a></li>
          <li><a href="#sun" id="markdown-toc-sun">su(n)</a></li>
          <li><a href="#nsn" id="markdown-toc-nsn">ns(n)</a></li>
          <li><a href="#ln" id="markdown-toc-ln">L(n)</a></li>
          <li><a href="#s" id="markdown-toc-s">S()</a></li>
          <li><a href="#nsn-1" id="markdown-toc-nsn-1">NS(n)</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#syntax-structures" id="markdown-toc-syntax-structures">Syntax structures</a>    <ul>
      <li><a href="#general-2" id="markdown-toc-general-2">General</a></li>
      <li><a href="#metadata-syntax" id="markdown-toc-metadata-syntax">Metadata syntax</a>        <ul>
          <li><a href="#metadata-itut-t35-syntax" id="markdown-toc-metadata-itut-t35-syntax">Metadata ITUT T35 syntax</a></li>
          <li><a href="#aomedia-itut-t35-payload" id="markdown-toc-aomedia-itut-t35-payload">AOMedia ITUT T35 payload</a></li>
          <li><a href="#film-grain-parameters-syntax" id="markdown-toc-film-grain-parameters-syntax">Film grain parameters syntax</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#syntax-structures-semantics" id="markdown-toc-syntax-structures-semantics">Syntax structures semantics</a>    <ul>
      <li><a href="#general-3" id="markdown-toc-general-3">General</a></li>
      <li><a href="#metadata-semantics" id="markdown-toc-metadata-semantics">Metadata semantics</a>        <ul>
          <li><a href="#metadata-itut-t35-semantics" id="markdown-toc-metadata-itut-t35-semantics">Metadata ITUT T35 semantics</a></li>
          <li><a href="#aomedia-itut-t35-payload-1" id="markdown-toc-aomedia-itut-t35-payload-1">AOMedia ITUT T35 payload</a></li>
          <li><a href="#film-grain-parameters-semantics" id="markdown-toc-film-grain-parameters-semantics">Film grain parameters semantics</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#decoding-process" id="markdown-toc-decoding-process">Decoding process</a>    <ul>
      <li><a href="#conformance-requirements" id="markdown-toc-conformance-requirements">Conformance requirements</a></li>
      <li><a href="#film-grain-synthesis-process" id="markdown-toc-film-grain-synthesis-process">Film grain synthesis process</a>        <ul>
          <li><a href="#general-4" id="markdown-toc-general-4">General</a></li>
          <li><a href="#film-grain-synthesis-process-1" id="markdown-toc-film-grain-synthesis-process-1">Film grain synthesis process</a>            <ul>
              <li><a href="#general-5" id="markdown-toc-general-5">General</a></li>
              <li><a href="#random-number-process" id="markdown-toc-random-number-process">Random number process</a></li>
              <li><a href="#generate-grain-process" id="markdown-toc-generate-grain-process">Generate grain process</a></li>
              <li><a href="#scaling-lookup-initialization-process" id="markdown-toc-scaling-lookup-initialization-process">Scaling lookup initialization process</a></li>
              <li><a href="#add-noise-synthesis-process" id="markdown-toc-add-noise-synthesis-process">Add noise synthesis process</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#parsing-process" id="markdown-toc-parsing-process">Parsing process</a>    <ul>
      <li><a href="#parsing-process-for-fn" id="markdown-toc-parsing-process-for-fn">Parsing process for f(n)</a></li>
    </ul>
  </li>
  <li><a href="#additional-tables" id="markdown-toc-additional-tables">Additional tables</a>    <ul>
      <li><a href="#general-6" id="markdown-toc-general-6">General</a></li>
    </ul>
  </li>
  <li><a href="#annex-a-conformance-to-video-decoders-profiles-and-levels" id="markdown-toc-annex-a-conformance-to-video-decoders-profiles-and-levels">Annex A: Conformance to video decoders’ profiles and levels</a>    <ul>
      <li><a href="#general" id="markdown-toc-general">General</a></li>
      <li><a href="#conformance" id="markdown-toc-conformance">Conformance</a></li>
    </ul>
  </li>
  <li><a href="#bibliography" id="markdown-toc-bibliography">Bibliography</a></li>
</ul>

<h2 id="scope">Scope</h2>

<p>This document provides the metadata format and bit-accurate specification for 
the standalone AOMedia film grain synthesis technology, that is equivalent on the frame level
to the film grain technology described in the AV1 specification. 
The metadata is signaled using the ITU-T T.35 user defined format.</p>

<h2 id="terms-and-definitions">Terms and definitions</h2>

<p>For the purposes of this document, the following terms and definitions apply:</p>

<dl>
  <dt>Base layer</dt>
  <dd>
    <p>The layer with spatial_id and temporal_id values equal to 0.</p>
  </dd>
  <dt>Bitstream</dt>
  <dd>
    <p>The sequence of bits generated by encoding a sequence of frames.</p>
  </dd>
  <dt>Bit string</dt>
  <dd>
    <p>An ordered string with limited number of bits. The left most bit is the most
significant bit (MSB), the right most bit is the least significant bit (LSB).</p>
  </dd>
  <dt>Byte</dt>
  <dd>
    <p>An 8-bit bit string.</p>
  </dd>
  <dt>Byte alignment</dt>
  <dd>
    <p>One bit is byte aligned if the position of the bit is an integer multiple of
eight from the position of the first bit in the bitstream.</p>
  </dd>
  <dt>Chroma</dt>
  <dd>
    <p>A sample value matrix or a single sample value of one of the two color
difference signals.</p>

    <p class="alert alert-info"><strong>Note:</strong> Symbols of chroma are U and V.</p>
  </dd>
  <dt>Coded frame</dt>
  <dd>
    <p>The representation of one frame before the decoding process.</p>
  </dd>
  <dt>Component</dt>
  <dd>
    <p>One of the three sample value matrices (one luma matrix and two chroma
matrices) or its single sample value.</p>
  </dd>
  <dt>Decoded frame</dt>
  <dd>
    <p>The frame reconstructed out of the bitstream by the decoder.</p>
  </dd>
  <dt>Decoder</dt>
  <dd>
    <p>One embodiment of the decoding process.</p>
  </dd>
  <dt>Decoding process</dt>
  <dd>
    <p>The process that derives decoded frames from syntax elements, including any processing 
steps used prior to and for the film grain synthesis process.</p>
  </dd>
  <dt>Encoder</dt>
  <dd>
    <p>One embodiment of the encoding process.</p>
  </dd>
  <dt>Encoding process</dt>
  <dd>
    <p>A process not specified in this Specification that generates the bitstream
that conforms to the description provided in this document.</p>
  </dd>
  <dt>Enhancement layer</dt>
  <dd>
    <p>A layer with either spatial_id greater than 0 or temporal_id greater than 0.</p>
  </dd>
  <dt>Flag</dt>
  <dd>
    <p>A binary variable - some variables and syntax elements (e.g.
obu_extension_flag) are described using the word flag to highlight that the
syntax element can only be equal to 0 or equal to 1.</p>
  </dd>
  <dt>Frame</dt>
  <dd>
    <p>The representation of video signals in the spatial domain, composed of one
luma sample matrix (Y) and two chroma sample matrices (U and V).</p>
  </dd>
  <dt>Key frame</dt>
  <dd>
    <p>An Intra frame which resets the decoding process when it is shown.</p>
  </dd>
  <dt>Layer</dt>
  <dd>
    <p>A set of tile group OBUs with identical spatial_id and identical temporal_id
values.</p>
  </dd>
  <dt>Level</dt>
  <dd>
    <p>A defined set of constraints on the values for the syntax elements and
variables.</p>
  </dd>
  <dt>Luma</dt>
  <dd>
    <p>A sample value matrix or a single sample value representing the monochrome
signal related to the primary colors.</p>

    <p class="alert alert-info"><strong>Note:</strong> The symbol representing luma is Y.</p>
  </dd>
  <dt>OBU</dt>
  <dd>
    <p>All structures are packetized in “Open Bitstream Units” or OBUs. Each OBU has
a header, which provides identifying information for the contained data
(payload).</p>
  </dd>
  <dt>Parse</dt>
  <dd>
    <p>The procedure of getting the syntax element from the bitstream.</p>
  </dd>
  <dt>Profile</dt>
  <dd>
    <p>A subset of syntax, semantics and algorithms defined in a part.</p>
  </dd>
  <dt>Raster scan</dt>
  <dd>
    <p>Maps a two dimensional rectangular raster into a one dimensional raster, in
which the entry of the one dimensional raster starts from the first row of the
two dimensional raster, and the scanning then goes through the second row and
the third row, and so on. Each raster row is scanned in left to right order.</p>
  </dd>
  <dt>Reconstruction</dt>
  <dd>
    <p>Obtaining the addition of the decoded residual and the corresponding
prediction values.</p>
  </dd>
  <dt>Reference</dt>
  <dd>
    <p>One of a set of tags, each of which is mapped to a reference frame.</p>
  </dd>
  <dt>Reserved</dt>
  <dd>
    <p>A special syntax element value which may be used to extend this part in the
future.</p>
  </dd>
  <dt>Sample</dt>
  <dd>
    <p>The basic elements that compose the frame.</p>
  </dd>
  <dt>Sample value</dt>
  <dd>
    <p>The value of a sample. This is an integer from 0 to 255 (inclusive) for 8-bit
frames, from 0 to 1023 (inclusive) for 10-bit frames, and from 0 to 4095
(inclusive) for 12-bit frames.</p>
  </dd>
  <dt>Sequence</dt>
  <dd>
    <p>The highest level syntax structure of coding bitstream, including one or
several consecutive coded frames.</p>
  </dd>
  <dt>Syntax element</dt>
  <dd>
    <p>An element of data represented in the bitstream.</p>
  </dd>
  <dt>Temporal group</dt>
  <dd>
    <p>A set of frames whose temporal prediction structure is used periodically in a
video sequence.</p>
  </dd>
  <dt>Tier</dt>
  <dd>
    <p>A specified category of level constraints imposed on the values of the syntax elements
in the bitstream.</p>
  </dd>
</dl>

<h2 id="symbols-and-abbreviated-terms">Symbols and abbreviated terms</h2>

<dl>
  <dt>LSB</dt>
  <dd>
    <p>Least Significant Bit</p>
  </dd>
  <dt>MSB</dt>
  <dd>
    <p>Most Significant Bit</p>
  </dd>
</dl>

<h2 id="conventions">Conventions</h2>

<h3 id="general">General</h3>

<p>The mathematical operators and their precedence rules used to describe this
Specification are similar to those used in the C programming language.
However, the operation of integer division with truncation is specifically
defined.</p>

<p>In addition, a length 2 array used to hold a motion vector (indicated
by the variable name ending with the letters <code class="highlighter-rouge">Mv</code> or <code class="highlighter-rouge">Mvs</code>) can be accessed
using either array notation (e.g. <code class="highlighter-rouge">Mv[ 0 ]</code> and <code class="highlighter-rouge">Mv[ 1 ]</code>), or by just
the name (e.g., <code class="highlighter-rouge">Mv</code>). The only operations defined when using the name are
assignment and equality/inequality testing. Assignment of an array is
represented using the notation <code class="highlighter-rouge">A = B</code> and is specified to mean the same
as doing both the individual assignments <code class="highlighter-rouge">A[ 0 ] = B[ 0 ]</code> and
<code class="highlighter-rouge">A[ 1 ] = B[ 1 ].</code> Equality testing of 2 motion vectors is represented using the
notation <code class="highlighter-rouge">A == B</code> and is specified to mean the same as
<code class="highlighter-rouge">(A[ 0 ] == B[ 0 ] &amp;&amp; A[ 1 ] == B[ 1 ])</code>. Inequality testing is defined as
<code class="highlighter-rouge">A != B</code> and is specified to mean the same as
<code class="highlighter-rouge">(A[ 0 ] != B[ 0 ] || A[ 1 ] != B[ 1 ])</code>.</p>

<p>When a variable is said to be representable by a signed integer with <code class="highlighter-rouge">x</code> bits,
it means that the variable is greater than or equal to <code class="highlighter-rouge">-(1 &lt;&lt; (x-1))</code>, and that
the variable is less than or equal to <code class="highlighter-rouge">(1 &lt;&lt; (x-1))-1</code>.</p>

<p>The key words “must”, “must not”, “required”, “shall”, “shall not”,
“should”, “should not”, “recommended”,  “may”, and
“optional” in this document are to be interpreted as described in
RFC 2119.</p>

<h3 id="arithmetic-operators">Arithmetic operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <tbody>
    <tr>
      <td>+</td>
      <td>Addition</td>
    </tr>
    <tr>
      <td>–</td>
      <td>Subtraction (as a binary operator) or negation (as a unary prefix operator)</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Multiplication</td>
    </tr>
    <tr>
      <td>/</td>
      <td>Integer division with truncation of the result toward zero. For example, <code class="highlighter-rouge">7/4</code> and <code class="highlighter-rouge">-7/-4</code> are truncated to <code class="highlighter-rouge">1</code> and <code class="highlighter-rouge">-7/4</code> and <code class="highlighter-rouge">7/-4</code> are truncated to <code class="highlighter-rouge">-1</code>.</td>
    </tr>
    <tr>
      <td>a % b</td>
      <td>Remainder from division of <code class="highlighter-rouge">a</code> by <code class="highlighter-rouge">b</code>. Both <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code> are positive integers.</td>
    </tr>
    <tr>
      <td>÷</td>
      <td>Floating point (arithmetical) division.</td>
    </tr>
    <tr>
      <td>ceil(x)</td>
      <td>The smallest integer that is greater or equal than <code class="highlighter-rouge">x</code>.</td>
    </tr>
    <tr>
      <td>floor(x)</td>
      <td>The largest integer that is smaller or equal than <code class="highlighter-rouge">x</code>.</td>
    </tr>
  </tbody>
</table>

<h3 id="logical-operators">Logical operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <tbody>
    <tr>
      <td>a &amp;&amp; b</td>
      <td>Logical AND operation between <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code></td>
    </tr>
    <tr>
      <td>a || b</td>
      <td>Logical OR operation between <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code></td>
    </tr>
    <tr>
      <td>!</td>
      <td>Logical NOT operation.</td>
    </tr>
  </tbody>
</table>

<h3 id="relational-operators">Relational operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <tbody>
    <tr>
      <td>&gt;</td>
      <td>Greater than</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>Greater than or equal to</td>
    </tr>
    <tr>
      <td>&lt;</td>
      <td>Less than</td>
    </tr>
    <tr>
      <td>&lt;=</td>
      <td>Less than or equal to</td>
    </tr>
    <tr>
      <td>==</td>
      <td>Equal to</td>
    </tr>
    <tr>
      <td>!=</td>
      <td>Not equal to</td>
    </tr>
  </tbody>
</table>

<h3 id="bitwise-operators">Bitwise operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <tbody>
    <tr>
      <td>&amp;</td>
      <td>AND operation</td>
    </tr>
    <tr>
      <td>|</td>
      <td>OR operation</td>
    </tr>
    <tr>
      <td>^</td>
      <td>XOR operation</td>
    </tr>
    <tr>
      <td>~</td>
      <td>Negation operation</td>
    </tr>
    <tr>
      <td>a &gt;&gt; b</td>
      <td>Shift <code class="highlighter-rouge">a</code> in 2’s complement binary integer representation format to the right by <code class="highlighter-rouge">b</code> bit positions. This operator is only used with <code class="highlighter-rouge">b</code> being a non-negative integer. Bits shifted into the MSBs as a result of the right shift have a value equal to the MSB of <code class="highlighter-rouge">a</code> prior to the shift operation.</td>
    </tr>
    <tr>
      <td>a &lt;&lt; b</td>
      <td>Shift <code class="highlighter-rouge">a</code> in 2’s complement binary integer representation format to the left by <code class="highlighter-rouge">b</code> bit positions. This operator is only used with <code class="highlighter-rouge">b</code> being a non-negative integer. Bits shifted into the LSBs as a result of the left shift have a value equal to <code class="highlighter-rouge">0</code>.</td>
    </tr>
  </tbody>
</table>

<h3 id="assignment">Assignment</h3>

<table class="table table-sm table-bordered table-nohead">
  <tbody>
    <tr>
      <td>=</td>
      <td>Assignment operator</td>
    </tr>
    <tr>
      <td>++</td>
      <td>Increment, <code class="highlighter-rouge">x++</code> is equivalent to <code class="highlighter-rouge">x = x + 1</code>. When this operator is used for an array index, the variable value is obtained before the auto increment operation</td>
    </tr>
    <tr>
      <td>- -</td>
      <td>Decrement, i.e. <code class="highlighter-rouge">x--</code> is equivalent to <code class="highlighter-rouge">x = x - 1</code>. When this operator is used for an array index, the variable value is obtained before the auto decrement operation</td>
    </tr>
    <tr>
      <td>+=</td>
      <td>Addition assignment operator, for example <code class="highlighter-rouge">x += 3</code> corresponds to <code class="highlighter-rouge">x = x + 3</code></td>
    </tr>
    <tr>
      <td>-=</td>
      <td>Subtraction assignment operator, for example <code class="highlighter-rouge">x -= 3</code> corresponds to <code class="highlighter-rouge">x = x - 3</code></td>
    </tr>
  </tbody>
</table>

<h3 id="mathematical-functions">Mathematical functions</h3>

<p>The following mathematical functions (Abs, Clip3, Clip1, Min, Max, Round2
and Round2Signed) are defined as follows:</p>

<p><img src="assets/images/formula-abs.corrected.png" class="img-fluid" alt="" /></p>

<p><img src="assets/images/formula-clip1.svg.png" class="img-fluid" alt="" /></p>

<p><img src="assets/images/formula-clip3.svg.png" class="img-fluid" alt="" /></p>

<p><img src="assets/images/formula-min.svg.png" class="img-fluid" alt="" /></p>

<p><img src="assets/images/formula-max.svg.png" class="img-fluid" alt="" /></p>

<p><img src="assets/images/formula-round2.svg.png" class="img-fluid" alt="" /></p>

<p><img src="assets/images/formula-round2signed.svg.png" class="img-fluid" alt="" /></p>

<p>The definition of Round2 uses standard mathematical power and division
operations, not integer operations. An equivalent definition using integer
operations is:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Round2</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">n</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>
  <span class="k">return</span> <span class="p">(</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">n</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The FloorLog2(x) function is defined to be the floor of the base 2 logarithm of
the input x.</p>

<p>The input x will always be an integer, and will always be greater than or equal
to 1.</p>

<p>This function extracts the location of the most significant bit in x.</p>

<p>An equivalent definition (using the pseudo-code notation introduced in the
following section) is:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">FloorLog2</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">while</span> <span class="p">(</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
    <span class="n">s</span><span class="o">++</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">s</span> <span class="o">-</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The CeilLog2(x) function is defined to be the ceiling of the base 2 logarithm of
the input x (when x is 0, it is defined to return 0).</p>

<p>The input x will always be an integer, and will always be greater than or equal
to 0.</p>

<p>This function extracts the number of bits needed to code a value in the
range 0 to x-1.</p>

<p>An equivalent definition (using the pseudo-code notation introduced in the
following section) is:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CeilLog2</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="p">)</span>
    <span class="k">return</span> <span class="mi">0</span>
  <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="k">while</span> <span class="p">(</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">i</span><span class="o">++</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">i</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="method-of-describing-bitstream-syntax">Method of describing bitstream syntax</h3>

<p>The description style of the syntax is similar to the C programming language.
Syntax elements in the bitstream are represented in bold type. Each syntax
element is described by its name (using only lower case letters with
underscore characters) and a descriptor for its method of coded
representation. The decoding process behaves according to the value of the
syntax element and to the values of previously decoded syntax elements. When a
value of a syntax element is used in the syntax tables or the text, it appears
in regular (i.e. not bold) type. If the value of a syntax element is being
computed (e.g. being written with a default value instead of being coded in
the bitstream), it also appears in regular type (e.g. tile_size_minus_1).</p>

<p>In some cases the syntax tables may use the values of other variables derived
from syntax elements values. Such variables appear in the syntax tables, or
text, named by a mixture of lower case and upper case letter and without any
underscore characters. Variables starting with an upper case letter are
derived for the decoding of the current syntax structure and all depending
syntax structures. These variables may be used in the decoding process for
later syntax structures. Variables starting with a lower case letter are only
used within the process from which they are derived. (Single character variables
are allowed.)</p>

<p>Constant values appear in all upper case letters with underscore characters
(e.g. MI_SIZE).</p>

<p>Constant lookup tables appear as words (with the first letter of each word in
upper case, and remaining letters in lower case) separated with underscore
characters (e.g. Block_Width[…]).</p>

<p>Hexadecimal notation, indicated by prefixing the hexadecimal number by <code class="highlighter-rouge">0x</code>,
may be used when the number of bits is an integer multiple of 4. For example,
<code class="highlighter-rouge">0x1a</code> represents a bit string <code class="highlighter-rouge">0001 1010</code>.</p>

<p>Binary notation is indicated by prefixing the binary number by <code class="highlighter-rouge">0b</code>. For
example, <code class="highlighter-rouge">0b00011010</code> represents a bit string <code class="highlighter-rouge">0001 1010</code>. Binary numbers may
include underscore characters to enhance readability. If present, the
underscore characters appear every 4 binary digits starting from the LSB. For
example, <code class="highlighter-rouge">0b11010</code> may also be written as <code class="highlighter-rouge">0b1_1010</code>.</p>

<p>A value equal to 0 represents a FALSE condition in a test statement. The
value TRUE is represented by any value not equal to 0.</p>

<p>The following table lists examples of the syntax specification format. When
<code class="highlighter-rouge">syntax_element</code> appears (with bold face font), it specifies that this syntax
element is parsed from the bitstream.</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>                                                          </td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>/* A statement can be a syntax element with associated</td>
      <td> </td>
    </tr>
    <tr>
      <td>descriptor or can be an expression used to specify its</td>
      <td> </td>
    </tr>
    <tr>
      <td>existence, type, and value, as in the following</td>
      <td> </td>
    </tr>
    <tr>
      <td>examples */</td>
      <td> </td>
    </tr>
    <tr>
      <td>                                                          </td>
      <td> </td>
    </tr>
    <tr>
      <td><b class="syntax-element">syntax_element</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/* A group of statements enclosed in brackets is a</td>
      <td> </td>
    </tr>
    <tr>
      <td>compound statement and is treated functionally as a single</td>
      <td> </td>
    </tr>
    <tr>
      <td>statement. */</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>{</td>
      <td> </td>
    </tr>
    <tr>
      <td>    statement</td>
      <td> </td>
    </tr>
    <tr>
      <td>    …</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/* A “while” structure specifies that the statement is</td>
      <td> </td>
    </tr>
    <tr>
      <td>to be evaluated repeatedly while the condition remains</td>
      <td> </td>
    </tr>
    <tr>
      <td>true. */</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>while ( condition )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    statement</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/* A “do .. while” structure executes the statement once,</td>
      <td> </td>
    </tr>
    <tr>
      <td>and then tests the condition. It repeatedly evaluates the</td>
      <td> </td>
    </tr>
    <tr>
      <td>statement while the condition remains true. */</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>do</td>
      <td> </td>
    </tr>
    <tr>
      <td>    statement</td>
      <td> </td>
    </tr>
    <tr>
      <td>while ( condition )</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/* An “if .. else” structure tests the condition first. If</td>
      <td> </td>
    </tr>
    <tr>
      <td>it is true, the primary statement is evaluated. Otherwise,</td>
      <td> </td>
    </tr>
    <tr>
      <td>the alternative statement is evaluated. If the alternative</td>
      <td> </td>
    </tr>
    <tr>
      <td>statement is unnecessary to be evaluated, the “else” and</td>
      <td> </td>
    </tr>
    <tr>
      <td>corresponding alternative statement can be omitted. */</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>if ( condition )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    primary statement</td>
      <td> </td>
    </tr>
    <tr>
      <td>else</td>
      <td> </td>
    </tr>
    <tr>
      <td>    alternative statement</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/* A “for” structure evaluates the initial statement at the</td>
      <td> </td>
    </tr>
    <tr>
      <td>beginning then tests the condition. If it is true, the primary</td>
      <td> </td>
    </tr>
    <tr>
      <td>and subsequent statements are evaluated until the condition</td>
      <td> </td>
    </tr>
    <tr>
      <td>becomes false. */</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>for ( initial statement; condition; subsequent statement )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    primary statement</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/* The return statement in a syntax structure specifies</td>
      <td> </td>
    </tr>
    <tr>
      <td>that the parsing of the syntax structure will be terminated</td>
      <td> </td>
    </tr>
    <tr>
      <td>without processing any additional information after this stage.</td>
      <td> </td>
    </tr>
    <tr>
      <td>When a value immediately follows a return statement, this value</td>
      <td> </td>
    </tr>
    <tr>
      <td>shall also be returned as the output of this syntax structure. */</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>return x</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="functions">Functions</h3>

<p>Bitstream functions used for syntax description are specified in this section.</p>

<p>Other functions are included in the syntax tables. The convention is that a
section is called syntax if it causes syntax elements to be read from the
bitstream, either directly or indirectly through subprocesses. The remaining
sections are called functions.</p>

<p>The specification of these functions makes use of a bitstream position
indicator. This bitstream position indicator locates the position of the bit
that is going to be read next.</p>

<p><strong>get_position( ):</strong> Return the value of the bitstream position indicator.</p>

<p><strong>init_symbol( sz ):</strong> Initialize the arithmetic decode process for the Symbol
decoder with a size of sz bytes as specified in <a href="#initialization-process-for-symbol-decoder">section 8.2.2</a>.</p>

<p><strong>exit_symbol( ):</strong> Exit the arithmetic decode process as described in
<a href="#exit-process-for-symbol-decoder">section 8.2.4</a> (this includes reading trailing bits).</p>

<h3 id="descriptors">Descriptors</h3>

<h4 id="general-1">General</h4>

<p>The following descriptors specify the parsing of syntax elements. Lower case
descriptors specify syntax elements that are represented by an integer
number of bits in the bitstream; upper case descriptors specify syntax elements
that are represented by arithmetic coding.</p>

<h4 id="fn">f(n)</h4>

<p>Unsigned n-bit number appearing directly in the bitstream. The bits are read
from high to low order.  The parsing process specified in <a href="#parsing-process-for-fn">section 8.1</a> is
invoked and the syntax element is set equal to the return value.</p>

<h4 id="uvlc">uvlc()</h4>

<p>Variable length unsigned number appearing directly in the bitstream.
The parsing process for this descriptor is specified below:</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>uvlc() {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    leadingZeros = 0</td>
      <td> </td>
    </tr>
    <tr>
      <td>    while ( 1 ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">done</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>        if ( done )</td>
      <td> </td>
    </tr>
    <tr>
      <td>            break</td>
      <td> </td>
    </tr>
    <tr>
      <td>        leadingZeros++</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    if ( leadingZeros &gt;= 32 ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        return ( 1 &lt;&lt; 32 ) - 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">value</b></td>
      <td>f(leadingZeros)</td>
    </tr>
    <tr>
      <td>    return value + ( 1 &lt;&lt; leadingZeros ) - 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="len">le(n)</h4>

<p>Unsigned little-endian n-byte number appearing directly in the bitstream.
The parsing process for this descriptor is specified below:</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>le(n) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    t = 0</td>
      <td> </td>
    </tr>
    <tr>
      <td>    for ( i = 0; i &lt; n; i++) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">byte</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        t += ( byte &lt;&lt; ( i * 8 ) )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    return t</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> This syntax element will only be present when the bitstream position
is byte aligned.</p>

<h4 id="leb128">leb128()</h4>

<p>Unsigned integer represented by a variable number of little-endian bytes.</p>

<p class="alert alert-info"><strong>Note:</strong> This syntax element will only be present when the bitstream position
is byte aligned.</p>

<p>In this encoding, the most significant bit of each byte is equal to 1 to signal
that more bytes should be read, or equal to 0 to signal the end of the encoding.</p>

<p>A variable Leb128Bytes is set equal to the number of bytes read during this
process.</p>

<p>The parsing process for this descriptor is specified below:</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>leb128() {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    value = 0</td>
      <td> </td>
    </tr>
    <tr>
      <td>    Leb128Bytes = 0</td>
      <td> </td>
    </tr>
    <tr>
      <td>    for ( i = 0; i &lt; 8; i++ ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">leb128_byte</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        value |= ( (leb128_byte &amp; 0x7f) &lt;&lt; (i*7) )</td>
      <td> </td>
    </tr>
    <tr>
      <td>        Leb128Bytes += 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>        if ( !(leb128_byte &amp; 0x80) ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>            break</td>
      <td> </td>
    </tr>
    <tr>
      <td>        }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    return value</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>It is a requirement of bitstream conformance that the value returned from the
leb128 parsing process is less than or equal to (1 &lt;&lt; 32) - 1.</p>

<p><strong>leb128_byte</strong> contains 8 bits read from the bitstream.  The bottom 7 bits are
used to compute the variable value. The most significant bit is used to indicate
that there are more bytes to be read.</p>

<p>It is a requirement of bitstream conformance that the most significant bit of
leb128_byte is equal to 0 if i is equal to 7. (This ensures that this syntax
descriptor never uses more than 8 bytes.)</p>

<p class="alert alert-info"><strong>Note:</strong> There are multiple ways of encoding the same value depending on how
many leading zero bits are encoded. There is no requirement that this syntax
descriptor uses the most compressed representation. This can be useful for
encoder implementations by allowing a fixed amount of space to be filled in
later when the value becomes known.</p>

<h4 id="sun">su(n)</h4>

<p>Signed integer converted from an n bits unsigned integer in the bitstream.
(The unsigned integer corresponds to the bottom n bits of the signed integer.)
The parsing process for this descriptor is specified below:</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>su(n) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">value</b></td>
      <td>f(n)</td>
    </tr>
    <tr>
      <td>    signMask = 1 &lt;&lt; (n - 1)</td>
      <td> </td>
    </tr>
    <tr>
      <td>    if ( value &amp; signMask )</td>
      <td> </td>
    </tr>
    <tr>
      <td>        value = value - 2 * signMask</td>
      <td> </td>
    </tr>
    <tr>
      <td>    return value</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="nsn">ns(n)</h4>

<p>Unsigned encoded integer with maximum number of values n (i.e. output in range
0..n-1).</p>

<p>This descriptor is similar to f(CeilLog2(n)), but reduces wastage incurred
when encoding non-power of two value ranges by encoding 1 fewer bits for the
lower part of the value range. For example, when n is equal to 5, the encodings
are as follows (full binary encodings are also presented for comparison):</p>

<table class="table table-sm table-bordered table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Value</th>
      <th style="text-align: center">Full binary encoding</th>
      <th style="text-align: center">ns(n) encoding</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">    0</td>
      <td style="text-align: center">000</td>
      <td style="text-align: center">00</td>
    </tr>
    <tr>
      <td style="text-align: center">    1</td>
      <td style="text-align: center">001</td>
      <td style="text-align: center">01</td>
    </tr>
    <tr>
      <td style="text-align: center">    2</td>
      <td style="text-align: center">010</td>
      <td style="text-align: center">10</td>
    </tr>
    <tr>
      <td style="text-align: center">    3</td>
      <td style="text-align: center">011</td>
      <td style="text-align: center">110</td>
    </tr>
    <tr>
      <td style="text-align: center">    4</td>
      <td style="text-align: center">100</td>
      <td style="text-align: center">111</td>
    </tr>
  </tbody>
</table>

<p>The parsing process for this descriptor is specified as:</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>ns( n ) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    w = FloorLog2(n) + 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>    m = (1 &lt;&lt; w) - n</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">v</b></td>
      <td>f(w - 1)</td>
    </tr>
    <tr>
      <td>    if ( v &lt; m )</td>
      <td> </td>
    </tr>
    <tr>
      <td>        return v</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">extra_bit</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>    return (v &lt;&lt; 1) - m + extra_bit</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>The abbreviation ns stands for non-symmetric. This encoding is non-symmetric
because the values are not all coded with the same number of bits.</p>

<h4 id="ln">L(n)</h4>

<p>Unsigned arithmetic encoded n-bit number encoded as n flags (a “literal”). The
flags are read from high to low order.  The syntax element is set equal to the
return value of read_literal( n ) (see <a href="#parsing-process-for-read_literal">section 8.2.5</a> for a specification of
this process).</p>

<h4 id="s">S()</h4>

<p>An arithmetic encoded symbol coded from a small alphabet of at most 16 entries.</p>

<p>The symbol is decoded based on a context sensitive CDF (see <a href="#parsing-process-for-cdf-encoded-syntax-elements">section 8.3</a> for
the specification of this process).</p>

<h4 id="nsn-1">NS(n)</h4>

<p>Unsigned arithmetic encoded integer with maximum number of values n (i.e. output
in range 0..n-1).</p>

<p>This descriptor is the same as ns(n) except the underlying bits are coded
arithmetically.</p>

<p>The parsing process for this descriptor is specified as:</p>

<table class="syntax">
  <tbody>
    <tr>
      <td>NS( n ) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    w = FloorLog2(n) + 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>    m = (1 &lt;&lt; w) - n</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">v</b></td>
      <td>L(w - 1)</td>
    </tr>
    <tr>
      <td>    if ( v &lt; m )</td>
      <td> </td>
    </tr>
    <tr>
      <td>        return v</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">extra_bit</b></td>
      <td>L(1)</td>
    </tr>
    <tr>
      <td>    return (v &lt;&lt; 1) - m + extra_bit</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="syntax-structures">Syntax structures</h2>

<h3 id="general-2">General</h3>

<p>This section presents the syntax structures in a tabular form. The meaning of
each of the syntax elements is presented in <a href="#syntax-structures-semantics">Section 6</a>.</p>

<h3 id="metadata-syntax">Metadata syntax</h3>

<h4 id="metadata-itut-t35-syntax">Metadata ITUT T35 syntax</h4>

<table class="syntax">
  <tbody>
    <tr>
      <td>metadata_itut_t35( ) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">itu_t_t35_country_code</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>    if ( itu_t_t35_country_code == 0xB5 ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">itu_t_t35_terminal_provider_code</b></td>
      <td>f(16)</td>
    </tr>
    <tr>
      <td>        if ( itu_t_t35_terminal_provider_code == 0x5890 ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>            aom_itu_t_t35_payload()</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> The last byte of the valid content of the data is
considered to be the last byte that is not equal to zero. This rule is to
prevent the dropping of valid bytes by systems that interpret trailing zero
bytes as a padding continuation of the trailing bits.
This implies that when any payload data is present,
at least one byte of the payload data (including the trailing bit) shall not be equal to 0.</p>

<h4 id="aomedia-itut-t35-payload">AOMedia ITUT T35 payload</h4>

<table class="syntax">
  <tbody>
    <tr>
      <td>aom_itu_t_t35_payload( ) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">itu_t_t35_terminal_provider_oriented_code</b></td>
      <td>f(16)</td>
    </tr>
    <tr>
      <td>    if ( itu_t_t35_terminal_provider_oriented_code == 0x0001 ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        av1_film_grain_params( )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> This specification only provides the value of the
itu_t_t35_terminal_provider_oriented_code that
identifies the av1 film grain parameters metadata.
The complete syntax of aom_itu_t_t35_payload( ) and the list of values for
AOMedia itu_t_t35_terminal_provider_oriented_code are defined
in the <a href="https://aomediacodec.github.io/metadata-registry/">AOMedia metadata registry</a> specification.</p>

<h4 id="film-grain-parameters-syntax">Film grain parameters syntax</h4>

<table class="syntax">
  <tbody>
    <tr>
      <td>av1_film_grain_params( ) {</td>
      <td><strong>Type</strong></td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">apply_grain</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>    if ( !apply_grain ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        reset_grain_params()</td>
      <td> </td>
    </tr>
    <tr>
      <td>        return</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">grain_seed</b></td>
      <td>f(16)</td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">update_grain</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>    if ( !update_grain ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        tempGrainSeed = grain_seed</td>
      <td> </td>
    </tr>
    <tr>
      <td>        load_grain_params( )</td>
      <td> </td>
    </tr>
    <tr>
      <td>        grain_seed = tempGrainSeed</td>
      <td> </td>
    </tr>
    <tr>
      <td>        return</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">num_y_points</b></td>
      <td>f(4)</td>
    </tr>
    <tr>
      <td>    for ( i = 0; i &lt; num_y_points; i++ ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">point_y_value[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">point_y_scaling[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">chroma_scaling_from_luma</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>    if ( chroma_scaling_from_luma )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        num_cb_points = 0</td>
      <td> </td>
    </tr>
    <tr>
      <td>        num_cr_points = 0</td>
      <td> </td>
    </tr>
    <tr>
      <td>    } else {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">num_cb_points</b></td>
      <td>f(4)</td>
    </tr>
    <tr>
      <td>        for ( i = 0; i &lt; num_cb_points; i++ ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">point_cb_value[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">point_cb_scaling[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        }</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">num_cr_points</b></td>
      <td>f(4)</td>
    </tr>
    <tr>
      <td>        for ( i = 0; i &lt; num_cr_points; i++ ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">point_cr_value[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">point_cr_scaling[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">grain_scaling_minus_8</b></td>
      <td>f(2)</td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">ar_coeff_lag</b></td>
      <td>f(2)</td>
    </tr>
    <tr>
      <td>    numPosLuma = 2 * ar_coeff_lag * ( ar_coeff_lag + 1 )</td>
      <td> </td>
    </tr>
    <tr>
      <td>    if ( num_y_points ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        numPosChroma = numPosLuma + 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>        for ( i = 0; i &lt; numPosLuma; i++ )</td>
      <td> </td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">ar_coeffs_y_plus_128[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>    } else {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        numPosChroma = numPosLuma</td>
      <td> </td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    if ( chroma_scaling_from_luma || num_cb_points ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        for ( i = 0; i &lt; numPosChroma; i++ )</td>
      <td> </td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">ar_coeffs_cb_plus_128[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    if ( chroma_scaling_from_luma || num_cr_points ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        for ( i = 0; i &lt; numPosChroma; i++ )</td>
      <td> </td>
    </tr>
    <tr>
      <td>            <b class="syntax-element">ar_coeffs_cr_plus_128[ i ]</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">ar_coeff_shift_minus_6</b></td>
      <td>f(2)</td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">grain_scale_shift</b></td>
      <td>f(2)</td>
    </tr>
    <tr>
      <td>    if ( num_cb_points ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">cb_mult</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">cb_luma_mult</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">cb_offset</b></td>
      <td>f(9)</td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    if ( num_cr_points ) {</td>
      <td> </td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">cr_mult</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">cr_luma_mult</b></td>
      <td>f(8)</td>
    </tr>
    <tr>
      <td>        <b class="syntax-element">cr_offset</b></td>
      <td>f(9)</td>
    </tr>
    <tr>
      <td>    }</td>
      <td> </td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">overlap_flag</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>    <b class="syntax-element">clip_to_restricted_range</b></td>
      <td>f(1)</td>
    </tr>
    <tr>
      <td>}</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="syntax-structures-semantics">Syntax structures semantics</h2>

<h3 id="general-3">General</h3>

<p>This section specifies the meaning of the syntax elements read in the syntax
structures.</p>

<p>Important variables and function calls are also described.</p>

<h3 id="metadata-semantics">Metadata semantics</h3>

<h4 id="metadata-itut-t35-semantics">Metadata ITUT T35 semantics</h4>

<p><strong>itu_t_t35_country_code</strong> shall be a byte having a value specified as a country code by Annex A
of Recommendation ITU-T T.35. itu_t_t35_country_code equal to 0xB5 indicates that the
itu_t_t35_terminal_provider_code is registered in the United States.</p>

<p><strong>itu_t_t35_terminal_provider_code</strong> are two bytes having values specified as a terminal
provider code in
<a href="https://cdn.cta.tech/cta/media/media/resources/standards/pdfs/manucode_2020-2.pdf">reference name required</a>.
itu_t_t35_terminal_provider_code equal to 0x5890 indicates that the ITU-T T.35 payload is
specified by AOMedia.</p>

<h4 id="aomedia-itut-t35-payload-1">AOMedia ITUT T35 payload</h4>
<p><strong>itu_t_t35_terminal_provider_oriented_code</strong> provides the value of the
ITU-T T3.5 terminal provider oriented code that is defined
in the <a href="https://aomediacodec.github.io/metadata-registry/">AOMedia metadata registry</a> specification.
itu_t_t35_terminal_provider_oriented_code equal to 0x0001 indicates that the ITU-T T.35 payload
contains AV1 film grain parameters, as defined by this specification.</p>

<h4 id="film-grain-parameters-semantics">Film grain parameters semantics</h4>

<p>This metadata provides the decoder or post-processing module with a model for parameterized film grain
synthesis. The film grain process is applied to pictures output by a video decoder or
a video post-processing module. The film grain synthesis shall be applied at the decoder output resolution.</p>

<p class="alert alert-info"><strong>Note:</strong> An encoder may use this film grain metadata to characterize film grain that was present in the
original source video material and was removed by pre-processing filtering techniques. The specified
film grain parameters and the post-processing algorithm are equivalent to the AV1 film grain synthesis
at the frame level.</p>

<p>The film grain parameters signaled in this metadata message are applied to the output video frame that
is associated with the coded video frame that follows the current metadata message in the
encoded video bitstream. The film grain processing is applied to the output video frames in the display order.
Even though the film grain metadata is associated with a particular picture in the coded frame order,
the persistence of the film grain parameters shall be considered in the display order.</p>

<p class="alert alert-info"><strong>Note:</strong> In case of the update_grain equal to 0, the film grain synthesis module should use the parameters
from the previous frame in the output / display order and not the coding order of the video frames.</p>

<p><strong>apply_grain</strong> equal to 1 specifies that film grain should be added to this frame.
apply_grain equal to 0 specifies that film grain should not be added.</p>

<p><strong>reset_grain_params( )</strong> is a function call that indicates that all the syntax elements read in film_grain_params should be set equal to 0.</p>

<p><strong>grain_seed</strong> specifies the starting value for the pseudo-random numbers used during film grain synthesis.</p>

<p><strong>update_grain</strong> equal to 1 means that a new set of parameters is sent.
update_grain equal to 0 means that the previous set of parameters in the frame display order should be used.
If the frame associated with the current AV1 film grain metadata belongs to a so-called Random Access Point (RAP), it is a requirement
of the bitstream conformance that the value of update_grain shall be equal to 1.</p>

<p class="alert alert-info"><strong>Note:</strong> This requirement means that film grain parameters can only be infered from previously signaled parameters in the cases
when the film grain model parameters have been signaled for previous frames in the coding order of the current coded video sequence.</p>

<p><strong>load_grain_params( )</strong> is a function call that indicates that all the syntax elements
read in film_grain_params should be set equal to the values stored in an area of memory used by the previous film grain model parameters.</p>

<p><strong>tempGrainSeed</strong> is a temporary variable that is used to avoid losing the value of grain_seed when load_grain_params is called.
When update_grain is equal to 0, a previous set of parameters should be used for everything except grain_seed.</p>

<p><strong>num_y_points</strong> specifies the number of points for the piece-wise linear
scaling function of the luma component.</p>

<p>It is a requirement of bitstream conformance that num_y_points is less than or equal to 14.</p>

<p><strong>point_y_value[ i ]</strong>  represents the x (luma value) coordinate for the i-th point of the piecewise
linear scaling function for luma component. The values are signaled on the scale of
0..255. (In case of 10 bit video, these values correspond to luma values divided by 4.
In case of 12 bit video, these values correspond to luma values divided by 16.)</p>

<p>If i is greater than 0, it is a requirement of bitstream conformance that point_y_value[ i ] is greater than point_y_value[ i - 1 ]
(this ensures the x coordinates are specified in increasing order).</p>

<p><strong>point_y_scaling[ i ]</strong> represents the scaling (output) value for the i-th point of the piecewise
linear scaling function for luma component.</p>

<p><strong>chroma_scaling_from_luma</strong> specifies that the chroma scaling is inferred from the luma scaling.</p>

<p><strong>num_cb_points</strong> specifies the number of points for the piece-wise linear
scaling function of the cb component.</p>

<p>It is a requirement of bitstream conformance that num_cb_points is less than or equal to 10.</p>

<p>When reconstructed video is monochrome, it is a requirement of bitstream conformance that num_cb_points is equal to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> When chroma_scaling_from_luma is equal to 1, it is still allowed for num_y_points to take values up to 14.
This means that the chroma scaling also needs to support up to 14 points.</p>

<p><strong>point_cb_value[ i ]</strong>  represents the x coordinate for the i-th point of the piece-wise linear
scaling function for cb component. The values are signaled on the scale of 0..255.</p>

<p>If i is greater than 0, it is a requirement of bitstream conformance that point_cb_value[ i ] is greater than point_cb_value[ i - 1 ].</p>

<p><strong>point_cb_scaling[ i ]</strong>  represents the scaling (output) value for the i-th point of the piecewise
linear scaling function for cb component.</p>

<p><strong>num_cr_points</strong> specifies  represents the number of points for the piece-wise linear
scaling function of the cr component.</p>

<p>It is a requirement of bitstream conformance that num_cr_points is less than or equal to 10.</p>

<p>When reconstructed video is monochrome, it is a requirement of bitstream conformance that num_cr_points is equal to 0.</p>

<p>If subX is equal to 1 and subY is equal to 1 and num_cb_points is equal to 0,
it is a requirement of bitstream conformance that num_cr_points is equal to 0.</p>

<p>If subX is equal to 1 and subY is equal to 1 and num_cb_points is not equal to 0,
it is a requirement of bitstream conformance that num_cr_points is not equal to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> These requirements ensure that for 4:2:0 chroma subsampling, film grain noise will be applied to both chroma components, or to neither.
There is no restriction for 4:2:2 or 4:4:4 chroma subsampling.</p>

<p><strong>point_cr_value[ i ]</strong>  represents the x coordinate for the i-th point of the piece-wise linear
scaling function for cr component. The values are signaled on the scale of 0..255.</p>

<p>If i is greater than 0, it is a requirement of bitstream conformance that point_cr_value[ i ] is greater than point_cr_value[ i - 1 ].</p>

<p><strong>point_cr_scaling[ i ]</strong> represents the scaling (output) value for the i-th point of the piecewise
linear scaling function for cr component.</p>

<p><strong>grain_scaling_minus_8</strong> represents the shift – 8 applied to the values of the chroma
component. The grain_scaling_minus_8 can take values of 0..3 and determines the
range and quantization step of the standard deviation of film grain.</p>

<p><strong>ar_coeff_lag</strong> specifies the number of auto-regressive coefficients for
luma and chroma.</p>

<p><strong>ar_coeffs_y_plus_128[ i ]</strong> specifies auto-regressive coefficients used for the Y plane.</p>

<p><strong>ar_coeffs_cb_plus_128[ i ]</strong> specifies auto-regressive coefficients used for the U plane.</p>

<p><strong>ar_coeffs_cr_plus_128[ i ]</strong> specifies auto-regressive coefficients used for the V plane.</p>

<p><strong>ar_coeff_shift_minus_6</strong> specifies the range of the auto-regressive coefficients. Values of 0, 1, 2, and 3
correspond to the ranges for auto-regressive coefficients of [-2, 2), [-1, 1), [-0.5, 0.5) and [-0.25, 0.25)
respectively.</p>

<p><strong>grain_scale_shift</strong> specifies how much the Gaussian random numbers should be scaled down during
the grain synthesis process.</p>

<p><strong>cb_mult</strong> represents a multiplier for the cb component used in derivation of the input
index to the cb component scaling function.</p>

<p><strong>cb_luma_mult</strong> represents a multiplier for the average luma component used in
derivation of the input index to the cb component scaling function.</p>

<p><strong>cb_offset</strong> represents an offset used in derivation of the input index to the cb component
scaling function.</p>

<p><strong>cr_mult</strong> represents a multiplier for the cr component used in derivation of the input index
to the cr component scaling function.</p>

<p><strong>cr_luma_mult</strong> represents a multiplier for the average luma component used in
derivation of the input index to the cr component scaling function.</p>

<p><strong>cr_offset</strong> represents an offset used in derivation of the input index to the cr component
scaling function.</p>

<p><strong>overlap_flag</strong> equal to 1 indicates that the overlap between film grain blocks shall be
applied. overlap_flag equal to 0 indicates that the overlap between film grain blocks shall
not be applied.</p>

<p><strong>clip_to_restricted_range</strong> equal to 1 indicates that clipping to the restricted (studio)
range shall be applied to the sample values after adding the film grain (see the semantics for color_range for an explanation of studio swing).
clip_to_restricted_range equal to 0 indicates that clipping to the full range shall be
applied to the sample values after adding the film grain.</p>

<h2 id="decoding-process">Decoding process</h2>

<h3 id="conformance-requirements">Conformance requirements</h3>

<p>When AV1 film grain metadata are not present in the bitstream, the AV1 film grain synthesis module shall produce output frames that are identical in all respects
and have the same output order as the input frames to the AV1 film grain synthesis module.</p>

<p>When AV1 film grain metadata is present in the bitstream, a decoder shall implement a film grain synthesis process that
modifies the its input arrays OutY, OutU, OutV. The reference film grain synthesis process is described in <a href="#film-grain-synthesis-process">section 7.18.3</a>.</p>

<p>When film_grain_params_present is equal to 1, a conformant AV1 film grain synthesis module shall satisfy at least one of the
following two options:</p>

<ol>
  <li>
    <p>A conformant AV1 film grain synthesis module shall produce output frames that are identical in all respects and have the same output order as those produced by the AV1 film grain synthesis process specified herein including applying the exact film grain synthesis process as specified in <a href="#film-grain-synthesis-process">section 7.18.3</a>.</p>
  </li>
  <li>
    <p>A conformant AV1 film grain synthesis module shall produce output frames that are in the same order and do not have perceptually
  significant differences with the frames produced by the reference film grain synthesis process specified in <a href="#film-grain-synthesis-process">section 7.18.3</a>
  when applied to the input frames of the film grain synthesis process with the film grain parameters signaled for these frames.
  The definition of “perceptually significant differences” is beyond the scope of this specification and may be specified,
  for example, by a service provider as part of their accreditation program.
  The film grain synthesis process applied by a conformant AV1 film grain synthesis module should be feature complete with regards to
  the reference film grain synthesis process of <a href="#film-grain-synthesis-process">section 7.18.3</a> including scaling strength of the film grain
  as a function of intensity according to the signaled parameters, same maximum AR lag, and similar
  modeling of correlation between luma and chroma and smoothing of transitions between blocks of grain when applicable.</p>
  </li>
</ol>

<p class="alert alert-info"><strong>Note:</strong> To ensure conformance, film grain module manufacturers are advised to implement the film grain synthesis
process as specified in <a href="#film-grain-synthesis-process">section 7.18.3</a>.
One reason to choose the second conformance option is implementation of optional processing steps
before input or after the output of <a href="#intermediate-output-preparation-process">section 7.18.2</a> and the film grain synthesis process, in which case there could be minor differences in the output with the reference film grain synthesis process of <a href="#film-grain-synthesis-process">section 7.18.3</a>. Examples of these optional processing steps are algorithms improving output picture quality, such as de-banding filtering and coding artefacts removal.</p>

<p class="alert alert-info"><strong>Note:</strong>
Some applications, such as transcoding from or to another video coding standard, may use intermediate output frames for transcoding. In such cases, the film grain synthesis information may be adapted and inserted in the transcoded bitstream.</p>

<p>The input to this process is a sequence of the reconstructed video frames and a sequence of AV1 film grain metadata messages.</p>

<p>The output from this process is a sequence of updated frames.</p>

<p>For each AV1 film grain metadata message, in turn the syntax elements are extracted as specified in <a href="#obu-syntax">section 5.3</a>.</p>

<p>The syntax tables include function calls indicating when the remaining decode processes are triggered.</p>

<h3 id="film-grain-synthesis-process">Film grain synthesis process</h3>

<h4 id="general-4">General</h4>

<p>This process is invoked to process video frames.</p>

<p>If apply_grain is equal to 1, then
the film grain synthesis process specified in <a href="#film-grain-synthesis-process">section 7.18.3</a> is invoked with inputs of w, h, subX, and subY.
This process modifies arrays OutY, OutU, OutV that contain the output frame samples of the video decoder or
intermediate values of video frames from the previous post-processing modules.</p>

<p>Finally, the frame to be processed is defined to be the arrays OutY, OutU, OutV where the bit depth for each sample is BitDepth.</p>

<p>This frame is the overall output and further processing (such as color conversion) is outside the scope of this specification.</p>

<p>For example, a real implementation might use these arrays to display the frame to the user, or a test system might save the arrays so the output can be verified.</p>

<p class="alert alert-info"><strong>Note:</strong> If NumPlanes is equal to 1, then the U and V planes should be ignored.</p>

<h4 id="film-grain-synthesis-process-1">Film grain synthesis process</h4>

<h5 id="general-5">General</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables w and h specifying the width and height of the frame,</p>
  </li>
  <li>
    <p>variables subX and subY specifying the subsampling parameters of the frame,</p>
  </li>
  <li>
    <p>arrays OutY, OutU, OutV,</p>
  </li>
  <li>
    <p>variable BitDepth specifying the bit depth of the video frame samples.</p>
  </li>
</ul>

<p>subX equal to 0 means that the chroma components have the same horizontal resolution as the luma component.
subX equal to 1 means that the chroma components as subsampled by a factor of 2 in the horizontal direction.
subY equal to 0 means that the chroma components have the same vertical resolution as the luma component.
subY equal to 1 means that the chroma components as subsampled by a factor of 2 in the vertica direction.</p>

<p>The process modifies the arrays OutY, OutU, OutV to add film grain noise as follows:</p>

<ol>
  <li>
    <p>The variable RandomRegister (used for generating pseudo-random numbers) is set equal to grain_seed.</p>
  </li>
  <li>
    <p>The variable GrainCenter is set equal to 128 &lt;&lt; (BitDepth - 8).</p>
  </li>
  <li>
    <p>The variable GrainMin is set equal to = -GrainCenter.</p>
  </li>
  <li>
    <p>The variable GrainMax is set equal to (256 &lt;&lt; (BitDepth - 8)) - 1 - GrainCenter.</p>
  </li>
  <li>
    <p>The generate grain process specified in <a href="#generate-grain-process">section 7.18.3.3</a> is invoked.</p>
  </li>
  <li>
    <p>The scaling lookup initialization process specified in <a href="#scaling-lookup-initialization-process">section 7.18.3.4</a> is invoked.</p>
  </li>
  <li>
    <p>The add noise process specified in <a href="#add-noise-synthesis-process">section 7.18.3.5</a> is invoked with w, h, subX, and subY as inputs.</p>
  </li>
</ol>

<h5 id="random-number-process">Random number process</h5>

<p>The input to this process is a variable bits specifying the number of random bits to return.</p>

<p>The output of this process is a pseudo-random number based on the state in RandomRegister.</p>

<p>The process is specified as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_random_number</span><span class="p">(</span> <span class="n">bits</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">RandomRegister</span>
  <span class="n">bit</span> <span class="o">=</span> <span class="p">((</span><span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mi">1</span>
  <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">bit</span> <span class="o">&lt;&lt;</span> <span class="mi">15</span><span class="p">)</span>
  <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">16</span> <span class="o">-</span> <span class="n">bits</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">RandomRegister</span> <span class="o">=</span> <span class="n">r</span>
  <span class="k">return</span> <span class="n">result</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The output of this process is the variable result.</p>

<h5 id="generate-grain-process">Generate grain process</h5>

<p>This process generates noise via an auto-regressive filter.</p>

<p>First an array LumaGrain 82 samples wide and 73 samples high of white noise is generated for luma as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shift</span> <span class="o">=</span> <span class="mi">12</span> <span class="o">-</span> <span class="n">BitDepth</span> <span class="o">+</span> <span class="n">grain_scale_shift</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">73</span><span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">82</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">num_y_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="n">Gaussian_Sequence</span><span class="p">[</span> <span class="n">get_random_number</span><span class="p">(</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">]</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
    <span class="n">LumaGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">g</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>where the function call get_random_number invokes the random number process specified in <a href="#random-number-process">section 7.18.3.2</a>.</p>

<p>Then an auto-regressive filter is applied to the white noise as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shift</span> <span class="o">=</span> <span class="n">ar_coeff_shift_minus_6</span> <span class="o">+</span> <span class="mi">6</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">73</span><span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">82</span> <span class="o">-</span> <span class="mi">3</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="p">(</span> <span class="n">deltaRow</span> <span class="o">=</span> <span class="o">-</span><span class="n">ar_coeff_lag</span><span class="p">;</span> <span class="n">deltaRow</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">deltaRow</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span> <span class="n">deltaCol</span> <span class="o">=</span> <span class="o">-</span><span class="n">ar_coeff_lag</span><span class="p">;</span> <span class="n">deltaCol</span> <span class="o">&lt;=</span> <span class="n">ar_coeff_lag</span><span class="p">;</span> <span class="n">deltaCol</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">deltaRow</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">deltaCol</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
          <span class="k">break</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">ar_coeffs_y_plus_128</span><span class="p">[</span> <span class="n">pos</span> <span class="p">]</span> <span class="o">-</span> <span class="mi">128</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">LumaGrain</span><span class="p">[</span> <span class="n">y</span> <span class="o">+</span> <span class="n">deltaRow</span> <span class="p">][</span> <span class="n">x</span> <span class="o">+</span> <span class="n">deltaCol</span> <span class="p">]</span> <span class="o">*</span> <span class="n">c</span>
        <span class="n">pos</span><span class="o">++</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">LumaGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">LumaGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">+</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">s</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span> <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If mono_chrome is equal to 0,
the chroma grain is generated in a similar way, except the filtering includes a coefficient that introduces a correlation with the luma grain.</p>

<p>The variable chromaW (representing the width of the chroma noise array) is set equal to (subX ? 44 : 82).</p>

<p>The variable chromaH (representing the height of the chroma noise array) is set equal to (subY ? 38 : 73).</p>

<p>White noise arrays CbGrain and CrGrain chromaW samples wide and chromaH samples high are generated as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shift</span> <span class="o">=</span> <span class="mi">12</span> <span class="o">-</span> <span class="n">BitDepth</span> <span class="o">+</span> <span class="n">grain_scale_shift</span>
<span class="n">RandomRegister</span> <span class="o">=</span> <span class="n">grain_seed</span> <span class="o">^</span> <span class="mh">0xb524</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">chromaH</span><span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">chromaW</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">num_cb_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="n">Gaussian_Sequence</span><span class="p">[</span> <span class="n">get_random_number</span><span class="p">(</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">]</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
    <span class="n">CbGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">g</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">RandomRegister</span> <span class="o">=</span> <span class="n">grain_seed</span> <span class="o">^</span> <span class="mh">0x49d8</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">chromaH</span><span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">chromaW</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">num_cr_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="n">Gaussian_Sequence</span><span class="p">[</span> <span class="n">get_random_number</span><span class="p">(</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">]</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
    <span class="n">CrGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">g</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Then the auto-regressive filter is applied as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shift</span> <span class="o">=</span> <span class="n">ar_coeff_shift_minus_6</span> <span class="o">+</span> <span class="mi">6</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">chromaH</span><span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">chromaW</span> <span class="o">-</span> <span class="mi">3</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">s0</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="p">(</span> <span class="n">deltaRow</span> <span class="o">=</span> <span class="o">-</span><span class="n">ar_coeff_lag</span><span class="p">;</span> <span class="n">deltaRow</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">deltaRow</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span> <span class="n">deltaCol</span> <span class="o">=</span> <span class="o">-</span><span class="n">ar_coeff_lag</span><span class="p">;</span> <span class="n">deltaCol</span> <span class="o">&lt;=</span> <span class="n">ar_coeff_lag</span><span class="p">;</span> <span class="n">deltaCol</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">c0</span> <span class="o">=</span> <span class="n">ar_coeffs_cb_plus_128</span><span class="p">[</span> <span class="n">pos</span> <span class="p">]</span> <span class="o">-</span> <span class="mi">128</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">ar_coeffs_cr_plus_128</span><span class="p">[</span> <span class="n">pos</span> <span class="p">]</span> <span class="o">-</span> <span class="mi">128</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">deltaRow</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">deltaCol</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span> <span class="n">num_y_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">luma</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">lumaX</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">subX</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">3</span>
            <span class="n">lumaY</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">subY</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">3</span>
            <span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">subY</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span>
              <span class="k">for</span> <span class="p">(</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">subX</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span> <span class="p">)</span>
                <span class="n">luma</span> <span class="o">+=</span> <span class="n">LumaGrain</span><span class="p">[</span> <span class="n">lumaY</span> <span class="o">+</span> <span class="n">i</span> <span class="p">][</span> <span class="n">lumaX</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span>
            <span class="n">luma</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">luma</span><span class="p">,</span> <span class="n">subX</span> <span class="o">+</span> <span class="n">subY</span> <span class="p">)</span>
            <span class="n">s0</span> <span class="o">+=</span> <span class="n">luma</span> <span class="o">*</span> <span class="n">c0</span>
            <span class="n">s1</span> <span class="o">+=</span> <span class="n">luma</span> <span class="o">*</span> <span class="n">c1</span>
          <span class="p">}</span>
          <span class="k">break</span>
        <span class="p">}</span>
        <span class="n">s0</span> <span class="o">+=</span> <span class="n">CbGrain</span><span class="p">[</span> <span class="n">y</span> <span class="o">+</span> <span class="n">deltaRow</span> <span class="p">][</span> <span class="n">x</span> <span class="o">+</span> <span class="n">deltaCol</span> <span class="p">]</span> <span class="o">*</span> <span class="n">c0</span>
        <span class="n">s1</span> <span class="o">+=</span> <span class="n">CrGrain</span><span class="p">[</span> <span class="n">y</span> <span class="o">+</span> <span class="n">deltaRow</span> <span class="p">][</span> <span class="n">x</span> <span class="o">+</span> <span class="n">deltaCol</span> <span class="p">]</span> <span class="o">*</span> <span class="n">c1</span>
        <span class="n">pos</span><span class="o">++</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">CbGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">CbGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">+</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">s0</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">CrGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">CrGrain</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">+</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">s1</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span> <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="alert alert-info"><strong>Note:</strong> When num_y_points is equal to 0, this process may use uninitialized values within ar_coeffs_y_plus_128 to compute LumaGrain.
However, LumaGrain will never be read in this case so it does not matter what values are constucted.
Similarly, when num_cr_points/num_cb_points are equal to 0 and chroma_scaling_from_luma is equal to 0, the CbGrain/CrGrain arrays will never be read.</p>

<h5 id="scaling-lookup-initialization-process">Scaling lookup initialization process</h5>

<p>This process computes 3 lookup tables for the different color components.</p>

<p>Each lookup table ScalingLut[ plane ] contains 256 entries constructed by a piecewise linear interpolation of the given points as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">plane</span> <span class="o">&lt;</span> <span class="n">NumPlanes</span><span class="p">;</span> <span class="n">plane</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span> <span class="p">)</span>
        <span class="n">numPoints</span> <span class="o">=</span> <span class="n">num_y_points</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="n">numPoints</span> <span class="o">=</span> <span class="n">num_cb_points</span>
    <span class="k">else</span>
        <span class="n">numPoints</span> <span class="o">=</span> <span class="n">num_cr_points</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">numPoints</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">256</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">get_x</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">get_y</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numPoints</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">deltaY</span> <span class="o">=</span> <span class="n">get_y</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">-</span> <span class="n">get_y</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span>
            <span class="n">deltaX</span> <span class="o">=</span> <span class="n">get_x</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">-</span> <span class="n">get_x</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">deltaY</span> <span class="o">*</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">65536</span> <span class="o">+</span> <span class="p">(</span><span class="n">deltaX</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="n">deltaX</span> <span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">deltaX</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">get_y</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span> <span class="n">x</span> <span class="o">*</span> <span class="n">delta</span> <span class="o">+</span> <span class="mi">32768</span> <span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span> <span class="p">)</span>
                <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">get_x</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span>  <span class="o">+</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="n">get_x</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">numPoints</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">);</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">256</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">get_y</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">numPoints</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>where the functions get_x and get_y return the coordinates for a specific point and are specified as:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_x</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">point_y_value</span><span class="p">[</span> <span class="n">i</span> <span class="p">]</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">point_cb_value</span><span class="p">[</span> <span class="n">i</span> <span class="p">]</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">point_cr_value</span><span class="p">[</span> <span class="n">i</span> <span class="p">]</span>
<span class="p">}</span>

<span class="n">get_y</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">point_y_scaling</span><span class="p">[</span> <span class="n">i</span> <span class="p">]</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">point_cb_scaling</span><span class="p">[</span> <span class="n">i</span> <span class="p">]</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">point_cr_scaling</span><span class="p">[</span> <span class="n">i</span> <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<h5 id="add-noise-synthesis-process">Add noise synthesis process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables w and h specifying the width and height of the frame,</p>
  </li>
  <li>
    <p>variables subX and subY specifying the subsampling parameters of the frame.</p>
  </li>
</ul>

<p>This process combines the film grain with the image data.</p>

<p>First an array of noise data noiseStripe is generated for each 32 luma sample high stripe of the image.</p>

<p>noiseStripe[ lumaNum ][ 0 ] is 34 samples high and w samples wide
(a few additional samples across are actually written to the array, but these are never read) and contains noise for the luma component.</p>

<p>noiseStripe[ lumaNum ][ 1 ] and noiseStripe[ lumaNum ][ 2 ] are (34 &gt;&gt; subY) samples high and Round2(w, subX) samples wide and contain noise for the chroma components.</p>

<p>noiseStripe represents the result of constructing square grain blocks and blending horizontally adjacent blocks together
(although blending is only applied if overlap_flag is equal to 1) and is constructed as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lumaNum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="p">;</span> <span class="n">y</span> <span class="o">+=</span> <span class="mi">16</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">RandomRegister</span> <span class="o">=</span> <span class="n">grain_seed</span>
  <span class="n">RandomRegister</span> <span class="o">^=</span> <span class="p">((</span><span class="n">lumaNum</span> <span class="o">*</span> <span class="mi">37</span> <span class="o">+</span> <span class="mi">178</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span>
  <span class="n">RandomRegister</span> <span class="o">^=</span> <span class="p">((</span><span class="n">lumaNum</span> <span class="o">*</span> <span class="mi">173</span> <span class="o">+</span> <span class="mi">105</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">)</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="p">;</span> <span class="n">x</span> <span class="o">+=</span> <span class="mi">16</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">rand</span> <span class="o">=</span> <span class="n">get_random_number</span><span class="p">(</span> <span class="mi">8</span> <span class="p">)</span>
    <span class="n">offsetX</span> <span class="o">=</span> <span class="n">rand</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span>
    <span class="n">offsetY</span> <span class="o">=</span> <span class="n">rand</span> <span class="o">&amp;</span> <span class="mi">15</span>
    <span class="k">for</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">plane</span> <span class="o">&lt;</span> <span class="n">NumPlanes</span><span class="p">;</span> <span class="n">plane</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">planeSubX</span> <span class="o">=</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">subX</span> <span class="o">:</span> <span class="mi">0</span>
      <span class="n">planeSubY</span> <span class="o">=</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">subY</span> <span class="o">:</span> <span class="mi">0</span>
      <span class="n">planeOffsetX</span> <span class="o">=</span> <span class="n">planeSubX</span> <span class="o">?</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">offsetX</span> <span class="o">:</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">offsetX</span> <span class="o">*</span> <span class="mi">2</span>
      <span class="n">planeOffsetY</span> <span class="o">=</span> <span class="n">planeSubY</span> <span class="o">?</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">offsetY</span> <span class="o">:</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">offsetY</span> <span class="o">*</span> <span class="mi">2</span>
      <span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">34</span> <span class="o">&gt;&gt;</span> <span class="n">planeSubY</span> <span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">34</span> <span class="o">&gt;&gt;</span> <span class="n">planeSubX</span> <span class="p">;</span> <span class="n">j</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">LumaGrain</span><span class="p">[</span> <span class="n">planeOffsetY</span> <span class="o">+</span> <span class="n">i</span> <span class="p">][</span> <span class="n">planeOffsetX</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span>
          <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">CbGrain</span><span class="p">[</span> <span class="n">planeOffsetY</span> <span class="o">+</span> <span class="n">i</span> <span class="p">][</span> <span class="n">planeOffsetX</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span>
          <span class="k">else</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">CrGrain</span><span class="p">[</span> <span class="n">planeOffsetY</span> <span class="o">+</span> <span class="n">i</span> <span class="p">][</span> <span class="n">planeOffsetX</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span>
          <span class="k">if</span> <span class="p">(</span> <span class="n">planeSubX</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">overlap_flag</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
              <span class="n">old</span> <span class="o">=</span> <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="p">][</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span>
              <span class="k">if</span> <span class="p">(</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
                <span class="n">g</span> <span class="o">=</span> <span class="n">old</span> <span class="o">*</span> <span class="mi">27</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="mi">17</span>
              <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">g</span> <span class="o">=</span> <span class="n">old</span> <span class="o">*</span> <span class="mi">17</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="mi">27</span>
              <span class="p">}</span>
              <span class="n">g</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">Round2</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
            <span class="p">}</span>
            <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="p">][</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">overlap_flag</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
              <span class="n">old</span> <span class="o">=</span> <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="p">][</span> <span class="n">x</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span>
              <span class="n">g</span> <span class="o">=</span> <span class="n">old</span> <span class="o">*</span> <span class="mi">23</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="mi">22</span>
              <span class="n">g</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">Round2</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
            <span class="p">}</span>
            <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="p">][</span> <span class="n">x</span> <span class="o">+</span> <span class="n">j</span> <span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">lumaNum</span><span class="o">++</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Then the noise stripes are blended together to form a noise image noiseImage as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">plane</span> <span class="o">&lt;</span> <span class="n">NumPlanes</span><span class="p">;</span> <span class="n">plane</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">planeSubX</span> <span class="o">=</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">subX</span> <span class="o">:</span> <span class="mi">0</span>
  <span class="n">planeSubY</span> <span class="o">=</span> <span class="p">(</span> <span class="n">plane</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">subY</span> <span class="o">:</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="p">(</span> <span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="n">planeSubY</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">planeSubY</span> <span class="p">)</span> <span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">lumaNum</span> <span class="o">=</span> <span class="n">y</span> <span class="o">&gt;&gt;</span> <span class="p">(</span> <span class="mi">5</span> <span class="o">-</span> <span class="n">planeSubY</span> <span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="p">(</span><span class="n">lumaNum</span> <span class="o">&lt;&lt;</span> <span class="p">(</span> <span class="mi">5</span> <span class="o">-</span> <span class="n">planeSubY</span> <span class="p">)</span> <span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="p">(</span> <span class="p">(</span><span class="n">w</span> <span class="o">+</span> <span class="n">planeSubX</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">planeSubX</span><span class="p">)</span> <span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">g</span> <span class="o">=</span> <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span> <span class="n">planeSubY</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">lumaNum</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">overlap_flag</span> <span class="p">)</span> <span class="p">{</span>
          <span class="n">old</span> <span class="o">=</span> <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">32</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
          <span class="k">if</span> <span class="p">(</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">old</span> <span class="o">*</span> <span class="mi">27</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="mi">17</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">old</span> <span class="o">*</span> <span class="mi">17</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="mi">27</span>
          <span class="p">}</span>
          <span class="n">g</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">Round2</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">lumaNum</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">overlap_flag</span> <span class="p">)</span> <span class="p">{</span>
          <span class="n">old</span> <span class="o">=</span> <span class="n">noiseStripe</span><span class="p">[</span> <span class="n">lumaNum</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">][</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">16</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
          <span class="n">g</span> <span class="o">=</span> <span class="n">old</span> <span class="o">*</span> <span class="mi">23</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="mi">22</span>
          <span class="n">g</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">GrainMin</span><span class="p">,</span> <span class="n">GrainMax</span><span class="p">,</span> <span class="n">Round2</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">noiseImage</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="alert alert-info"><strong>Note:</strong> Although this process is specified in terms of full size noiseStripe and noiseImage arrays,
the reference code shows how it is possible to implement the grain synthesis with just 2 line buffers for luma,
and 1 line buffer for each chroma component.</p>

<p>Finally, the noise is blended with the original image data as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="n">clip_to_restricted_range</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">minValue</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span>
  <span class="n">maxLuma</span> <span class="o">=</span> <span class="mi">235</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">matrix_coefficients</span> <span class="o">==</span> <span class="n">MC_IDENTITY</span> <span class="p">)</span>
    <span class="n">maxChroma</span> <span class="o">=</span> <span class="n">maxLuma</span>
  <span class="k">else</span>
    <span class="n">maxChroma</span> <span class="o">=</span> <span class="mi">240</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">minValue</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">maxLuma</span> <span class="o">=</span> <span class="p">(</span><span class="mi">256</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
  <span class="n">maxChroma</span> <span class="o">=</span> <span class="n">maxLuma</span>
<span class="p">}</span>
<span class="n">ScalingShift</span> <span class="o">=</span> <span class="n">grain_scaling_minus_8</span> <span class="o">+</span> <span class="mi">8</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="p">(</span> <span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="n">subY</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">subY</span><span class="p">)</span> <span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="p">(</span> <span class="p">(</span><span class="n">w</span> <span class="o">+</span> <span class="n">subX</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">subX</span><span class="p">)</span> <span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">lumaX</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">subX</span>
    <span class="n">lumaY</span> <span class="o">=</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="n">subY</span>
    <span class="n">lumaNextX</span> <span class="o">=</span> <span class="n">Min</span><span class="p">(</span> <span class="n">lumaX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">w</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">subX</span> <span class="p">)</span>
      <span class="n">averageLuma</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">OutY</span><span class="p">[</span> <span class="n">lumaY</span> <span class="p">][</span> <span class="n">lumaX</span> <span class="p">]</span> <span class="o">+</span> <span class="n">OutY</span><span class="p">[</span> <span class="n">lumaY</span> <span class="p">][</span> <span class="n">lumaNextX</span> <span class="p">],</span> <span class="mi">1</span> <span class="p">)</span>
    <span class="k">else</span>
      <span class="n">averageLuma</span> <span class="o">=</span> <span class="n">OutY</span><span class="p">[</span> <span class="n">lumaY</span> <span class="p">][</span> <span class="n">lumaX</span> <span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">num_cb_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">orig</span> <span class="o">=</span> <span class="n">OutU</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span> <span class="n">chroma_scaling_from_luma</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">averageLuma</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">combined</span> <span class="o">=</span> <span class="n">averageLuma</span> <span class="o">*</span> <span class="p">(</span> <span class="n">cb_luma_mult</span> <span class="o">-</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">+</span> <span class="n">orig</span> <span class="o">*</span> <span class="p">(</span> <span class="n">cb_mult</span> <span class="o">-</span> <span class="mi">128</span> <span class="p">)</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">Clip1</span><span class="p">(</span> <span class="p">(</span> <span class="n">combined</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span><span class="n">cb_offset</span> <span class="o">-</span> <span class="mi">256</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
      <span class="p">}</span>
      <span class="n">noise</span> <span class="o">=</span> <span class="n">noiseImage</span><span class="p">[</span> <span class="mi">1</span> <span class="p">][</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
      <span class="n">noise</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">scale_lut</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="n">merged</span> <span class="p">)</span> <span class="o">*</span> <span class="n">noise</span><span class="p">,</span> <span class="n">ScalingShift</span> <span class="p">)</span>
      <span class="n">OutU</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">minValue</span><span class="p">,</span> <span class="n">maxChroma</span><span class="p">,</span> <span class="n">orig</span> <span class="o">+</span> <span class="n">noise</span> <span class="p">)</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">num_cr_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">chroma_scaling_from_luma</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">orig</span> <span class="o">=</span> <span class="n">OutV</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span> <span class="n">chroma_scaling_from_luma</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">averageLuma</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">combined</span> <span class="o">=</span> <span class="n">averageLuma</span> <span class="o">*</span> <span class="p">(</span> <span class="n">cr_luma_mult</span> <span class="o">-</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">+</span> <span class="n">orig</span> <span class="o">*</span> <span class="p">(</span> <span class="n">cr_mult</span> <span class="o">-</span> <span class="mi">128</span> <span class="p">)</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">Clip1</span><span class="p">(</span> <span class="p">(</span> <span class="n">combined</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span><span class="n">cr_offset</span> <span class="o">-</span> <span class="mi">256</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
      <span class="p">}</span>
      <span class="n">noise</span> <span class="o">=</span> <span class="n">noiseImage</span><span class="p">[</span> <span class="mi">2</span> <span class="p">][</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
      <span class="n">noise</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">scale_lut</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="n">merged</span> <span class="p">)</span> <span class="o">*</span> <span class="n">noise</span><span class="p">,</span> <span class="n">ScalingShift</span> <span class="p">)</span>
      <span class="n">OutV</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">minValue</span><span class="p">,</span> <span class="n">maxChroma</span><span class="p">,</span> <span class="n">orig</span> <span class="o">+</span> <span class="n">noise</span> <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">h</span> <span class="p">;</span> <span class="n">y</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">w</span> <span class="p">;</span> <span class="n">x</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">orig</span> <span class="o">=</span> <span class="n">OutY</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
    <span class="n">noise</span> <span class="o">=</span> <span class="n">noiseImage</span><span class="p">[</span> <span class="mi">0</span> <span class="p">][</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
    <span class="n">noise</span> <span class="o">=</span> <span class="n">Round2</span><span class="p">(</span> <span class="n">scale_lut</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="n">orig</span> <span class="p">)</span> <span class="o">*</span> <span class="n">noise</span><span class="p">,</span> <span class="n">ScalingShift</span> <span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">num_y_points</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">OutY</span><span class="p">[</span> <span class="n">y</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Clip3</span><span class="p">(</span> <span class="n">minValue</span><span class="p">,</span> <span class="n">maxLuma</span><span class="p">,</span> <span class="n">orig</span> <span class="o">+</span> <span class="n">noise</span> <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>where scale_lut is a function that performs a piecewise linear interpolation into the appropriate scaling table.
The scale_lut function is specified as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scale_lut</span><span class="p">(</span> <span class="n">plane</span><span class="p">,</span> <span class="n">index</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">shift</span> <span class="o">=</span> <span class="n">BitDepth</span> <span class="o">-</span> <span class="mi">8</span>
  <span class="n">x</span> <span class="o">=</span> <span class="n">index</span> <span class="o">&gt;&gt;</span> <span class="n">shift</span>
  <span class="n">rem</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="p">(</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">shift</span> <span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">BitDepth</span> <span class="o">==</span> <span class="mi">8</span> <span class="o">||</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">255</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">x</span> <span class="p">]</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">ScalingLut</span><span class="p">[</span> <span class="n">plane</span> <span class="p">][</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">]</span>
    <span class="k">return</span> <span class="n">start</span> <span class="o">+</span> <span class="n">Round2</span><span class="p">(</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">*</span> <span class="n">rem</span><span class="p">,</span> <span class="n">shift</span> <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="parsing-process">Parsing process</h2>

<h3 id="parsing-process-for-fn">Parsing process for f(n)</h3>

<p>This process is invoked when the descriptor of a syntax element in the syntax
tables is equal to f(n).</p>

<p>The next n bits are read from the bit stream.</p>

<p>This process is specified as follows:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">read_bit</span><span class="p">(</span> <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>read_bit( ) reads the next bit from the bitstream and advances the bitstream
position indicator by 1. If the bitstream is provided as a series of bytes, then the
first bit is given by the most significant bit of the first byte.</p>

<p>The value for the syntax element is given by x.</p>

<h2 id="additional-tables">Additional tables</h2>

<h3 id="general-6">General</h3>

<p>This section contains tables that do not naturally fit in the main sections of
the Specification.</p>

<p>The array Gaussian_Sequence contains random samples from a Gaussian distribution
with zero mean and standard deviation of about 512 clipped to the range of [-2048, 2047] and rounded to the nearest multiple of 4.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Gaussian_Sequence</span><span class="p">[</span> <span class="mi">2048</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">56</span><span class="p">,</span>    <span class="mi">568</span><span class="p">,</span>   <span class="o">-</span><span class="mi">180</span><span class="p">,</span>  <span class="mi">172</span><span class="p">,</span>   <span class="mi">124</span><span class="p">,</span>   <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="mi">172</span><span class="p">,</span>   <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="o">-</span><span class="mi">900</span><span class="p">,</span>  <span class="mi">24</span><span class="p">,</span>   <span class="mi">820</span><span class="p">,</span>
  <span class="mi">224</span><span class="p">,</span>   <span class="mi">1248</span><span class="p">,</span>  <span class="mi">996</span><span class="p">,</span>   <span class="mi">272</span><span class="p">,</span>   <span class="o">-</span><span class="mi">8</span><span class="p">,</span>    <span class="o">-</span><span class="mi">916</span><span class="p">,</span>  <span class="o">-</span><span class="mi">388</span><span class="p">,</span>  <span class="o">-</span><span class="mi">732</span><span class="p">,</span>  <span class="o">-</span><span class="mi">104</span><span class="p">,</span>  <span class="o">-</span><span class="mi">188</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span>
  <span class="mi">112</span><span class="p">,</span>   <span class="o">-</span><span class="mi">652</span><span class="p">,</span>  <span class="o">-</span><span class="mi">320</span><span class="p">,</span>  <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="mi">140</span><span class="p">,</span>   <span class="o">-</span><span class="mi">252</span><span class="p">,</span>  <span class="mi">492</span><span class="p">,</span>   <span class="o">-</span><span class="mi">168</span><span class="p">,</span>  <span class="mi">44</span><span class="p">,</span>    <span class="o">-</span><span class="mi">788</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">584</span><span class="p">,</span>  <span class="mi">500</span><span class="p">,</span>   <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="mi">12</span><span class="p">,</span>    <span class="mi">680</span><span class="p">,</span>   <span class="mi">272</span><span class="p">,</span>   <span class="o">-</span><span class="mi">476</span><span class="p">,</span>  <span class="mi">972</span><span class="p">,</span>   <span class="o">-</span><span class="mi">100</span><span class="p">,</span>  <span class="mi">652</span><span class="p">,</span>  <span class="mi">368</span><span class="p">,</span>
  <span class="mi">432</span><span class="p">,</span>   <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="o">-</span><span class="mi">720</span><span class="p">,</span>  <span class="o">-</span><span class="mi">192</span><span class="p">,</span>  <span class="mi">1000</span><span class="p">,</span>  <span class="o">-</span><span class="mi">332</span><span class="p">,</span>  <span class="mi">652</span><span class="p">,</span>   <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="o">-</span><span class="mi">552</span><span class="p">,</span>  <span class="o">-</span><span class="mi">604</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span>
  <span class="mi">192</span><span class="p">,</span>   <span class="o">-</span><span class="mi">220</span><span class="p">,</span>  <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">1000</span><span class="p">,</span>  <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">96</span><span class="p">,</span>   <span class="o">-</span><span class="mi">624</span><span class="p">,</span>  <span class="mi">124</span><span class="p">,</span>   <span class="o">-</span><span class="mi">24</span><span class="p">,</span>  <span class="mi">396</span><span class="p">,</span>
  <span class="mi">540</span><span class="p">,</span>   <span class="o">-</span><span class="mi">12</span><span class="p">,</span>   <span class="o">-</span><span class="mi">104</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>   <span class="mi">464</span><span class="p">,</span>   <span class="mi">244</span><span class="p">,</span>   <span class="o">-</span><span class="mi">208</span><span class="p">,</span>  <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="mi">368</span><span class="p">,</span>   <span class="o">-</span><span class="mi">528</span><span class="p">,</span> <span class="o">-</span><span class="mi">740</span><span class="p">,</span>
  <span class="mi">248</span><span class="p">,</span>   <span class="o">-</span><span class="mi">968</span><span class="p">,</span>  <span class="o">-</span><span class="mi">848</span><span class="p">,</span>  <span class="mi">608</span><span class="p">,</span>   <span class="mi">376</span><span class="p">,</span>   <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="o">-</span><span class="mi">292</span><span class="p">,</span>  <span class="o">-</span><span class="mi">40</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="mi">252</span><span class="p">,</span>  <span class="o">-</span><span class="mi">292</span><span class="p">,</span>
  <span class="mi">248</span><span class="p">,</span>   <span class="mi">224</span><span class="p">,</span>   <span class="o">-</span><span class="mi">280</span><span class="p">,</span>  <span class="mi">400</span><span class="p">,</span>   <span class="o">-</span><span class="mi">244</span><span class="p">,</span>  <span class="mi">244</span><span class="p">,</span>   <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="mi">76</span><span class="p">,</span>    <span class="o">-</span><span class="mi">80</span><span class="p">,</span>   <span class="mi">212</span><span class="p">,</span>  <span class="mi">532</span><span class="p">,</span>
  <span class="mi">340</span><span class="p">,</span>   <span class="mi">128</span><span class="p">,</span>   <span class="o">-</span><span class="mi">36</span><span class="p">,</span>   <span class="mi">824</span><span class="p">,</span>   <span class="o">-</span><span class="mi">352</span><span class="p">,</span>  <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="o">-</span><span class="mi">264</span><span class="p">,</span>  <span class="o">-</span><span class="mi">96</span><span class="p">,</span>   <span class="o">-</span><span class="mi">612</span><span class="p">,</span>  <span class="mi">416</span><span class="p">,</span>  <span class="o">-</span><span class="mi">704</span><span class="p">,</span>
  <span class="mi">220</span><span class="p">,</span>   <span class="o">-</span><span class="mi">204</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>   <span class="o">-</span><span class="mi">160</span><span class="p">,</span>  <span class="mi">1220</span><span class="p">,</span>  <span class="o">-</span><span class="mi">408</span><span class="p">,</span>  <span class="mi">900</span><span class="p">,</span>   <span class="mi">336</span><span class="p">,</span>   <span class="mi">20</span><span class="p">,</span>    <span class="o">-</span><span class="mi">336</span><span class="p">,</span> <span class="o">-</span><span class="mi">96</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">792</span><span class="p">,</span>  <span class="mi">304</span><span class="p">,</span>   <span class="mi">48</span><span class="p">,</span>    <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1232</span><span class="p">,</span> <span class="o">-</span><span class="mi">1172</span><span class="p">,</span> <span class="o">-</span><span class="mi">448</span><span class="p">,</span>  <span class="mi">104</span><span class="p">,</span>   <span class="o">-</span><span class="mi">292</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span>
  <span class="mi">60</span><span class="p">,</span>    <span class="o">-</span><span class="mi">948</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>     <span class="o">-</span><span class="mi">708</span><span class="p">,</span>  <span class="mi">268</span><span class="p">,</span>   <span class="mi">108</span><span class="p">,</span>   <span class="mi">356</span><span class="p">,</span>   <span class="o">-</span><span class="mi">548</span><span class="p">,</span>  <span class="mi">488</span><span class="p">,</span>   <span class="o">-</span><span class="mi">344</span><span class="p">,</span> <span class="o">-</span><span class="mi">136</span><span class="p">,</span>
  <span class="mi">488</span><span class="p">,</span>   <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="o">-</span><span class="mi">224</span><span class="p">,</span>  <span class="mi">656</span><span class="p">,</span>   <span class="o">-</span><span class="mi">236</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1128</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span>    <span class="mi">4</span><span class="p">,</span>     <span class="mi">140</span><span class="p">,</span>   <span class="mi">276</span><span class="p">,</span>  <span class="o">-</span><span class="mi">676</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="mi">168</span><span class="p">,</span>   <span class="o">-</span><span class="mi">108</span><span class="p">,</span>  <span class="mi">464</span><span class="p">,</span>   <span class="mi">8</span><span class="p">,</span>     <span class="mi">564</span><span class="p">,</span>   <span class="mi">64</span><span class="p">,</span>    <span class="mi">240</span><span class="p">,</span>   <span class="mi">308</span><span class="p">,</span>   <span class="o">-</span><span class="mi">300</span><span class="p">,</span> <span class="o">-</span><span class="mi">400</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">456</span><span class="p">,</span>  <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">56</span><span class="p">,</span>    <span class="mi">120</span><span class="p">,</span>   <span class="o">-</span><span class="mi">408</span><span class="p">,</span>  <span class="o">-</span><span class="mi">116</span><span class="p">,</span>  <span class="mi">436</span><span class="p">,</span>   <span class="mi">504</span><span class="p">,</span>   <span class="o">-</span><span class="mi">232</span><span class="p">,</span>  <span class="mi">328</span><span class="p">,</span>  <span class="mi">844</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">164</span><span class="p">,</span>  <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="mi">784</span><span class="p">,</span>   <span class="o">-</span><span class="mi">168</span><span class="p">,</span>  <span class="mi">232</span><span class="p">,</span>   <span class="o">-</span><span class="mi">224</span><span class="p">,</span>  <span class="mi">348</span><span class="p">,</span>   <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="mi">128</span><span class="p">,</span>   <span class="mi">568</span><span class="p">,</span>  <span class="mi">96</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1244</span><span class="p">,</span> <span class="o">-</span><span class="mi">288</span><span class="p">,</span>  <span class="mi">276</span><span class="p">,</span>   <span class="mi">848</span><span class="p">,</span>   <span class="mi">832</span><span class="p">,</span>   <span class="o">-</span><span class="mi">360</span><span class="p">,</span>  <span class="mi">656</span><span class="p">,</span>   <span class="mi">464</span><span class="p">,</span>   <span class="o">-</span><span class="mi">384</span><span class="p">,</span>  <span class="o">-</span><span class="mi">332</span><span class="p">,</span> <span class="o">-</span><span class="mi">356</span><span class="p">,</span>
  <span class="mi">728</span><span class="p">,</span>   <span class="o">-</span><span class="mi">388</span><span class="p">,</span>  <span class="mi">160</span><span class="p">,</span>   <span class="o">-</span><span class="mi">192</span><span class="p">,</span>  <span class="mi">468</span><span class="p">,</span>   <span class="mi">296</span><span class="p">,</span>   <span class="mi">224</span><span class="p">,</span>   <span class="mi">140</span><span class="p">,</span>   <span class="o">-</span><span class="mi">776</span><span class="p">,</span>  <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span>
  <span class="mi">4</span><span class="p">,</span>     <span class="mi">196</span><span class="p">,</span>   <span class="mi">44</span><span class="p">,</span>    <span class="o">-</span><span class="mi">36</span><span class="p">,</span>   <span class="o">-</span><span class="mi">648</span><span class="p">,</span>  <span class="mi">932</span><span class="p">,</span>   <span class="mi">16</span><span class="p">,</span>    <span class="mi">1428</span><span class="p">,</span>  <span class="mi">28</span><span class="p">,</span>    <span class="mi">528</span><span class="p">,</span>  <span class="mi">808</span><span class="p">,</span>
  <span class="mi">772</span><span class="p">,</span>   <span class="mi">20</span><span class="p">,</span>    <span class="mi">268</span><span class="p">,</span>   <span class="mi">88</span><span class="p">,</span>    <span class="o">-</span><span class="mi">332</span><span class="p">,</span>  <span class="o">-</span><span class="mi">284</span><span class="p">,</span>  <span class="mi">124</span><span class="p">,</span>   <span class="o">-</span><span class="mi">384</span><span class="p">,</span>  <span class="o">-</span><span class="mi">448</span><span class="p">,</span>  <span class="mi">208</span><span class="p">,</span>  <span class="o">-</span><span class="mi">228</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1044</span><span class="p">,</span> <span class="o">-</span><span class="mi">328</span><span class="p">,</span>  <span class="mi">660</span><span class="p">,</span>   <span class="mi">380</span><span class="p">,</span>   <span class="o">-</span><span class="mi">148</span><span class="p">,</span>  <span class="o">-</span><span class="mi">300</span><span class="p">,</span>  <span class="mi">588</span><span class="p">,</span>   <span class="mi">240</span><span class="p">,</span>   <span class="mi">540</span><span class="p">,</span>   <span class="mi">28</span><span class="p">,</span>   <span class="mi">136</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="o">-</span><span class="mi">436</span><span class="p">,</span>  <span class="mi">256</span><span class="p">,</span>   <span class="mi">296</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1400</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>     <span class="o">-</span><span class="mi">48</span><span class="p">,</span>   <span class="mi">1056</span><span class="p">,</span>  <span class="o">-</span><span class="mi">136</span><span class="p">,</span> <span class="mi">264</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">528</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1108</span><span class="p">,</span> <span class="mi">632</span><span class="p">,</span>   <span class="o">-</span><span class="mi">484</span><span class="p">,</span>  <span class="o">-</span><span class="mi">592</span><span class="p">,</span>  <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="mi">796</span><span class="p">,</span>   <span class="mi">124</span><span class="p">,</span>   <span class="o">-</span><span class="mi">668</span><span class="p">,</span>  <span class="o">-</span><span class="mi">768</span><span class="p">,</span> <span class="mi">388</span><span class="p">,</span>
  <span class="mi">1296</span><span class="p">,</span>  <span class="o">-</span><span class="mi">232</span><span class="p">,</span>  <span class="o">-</span><span class="mi">188</span><span class="p">,</span>  <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="o">-</span><span class="mi">288</span><span class="p">,</span>  <span class="o">-</span><span class="mi">4</span><span class="p">,</span>    <span class="mi">308</span><span class="p">,</span>   <span class="mi">100</span><span class="p">,</span>   <span class="o">-</span><span class="mi">168</span><span class="p">,</span>  <span class="mi">256</span><span class="p">,</span>  <span class="o">-</span><span class="mi">500</span><span class="p">,</span>
  <span class="mi">204</span><span class="p">,</span>   <span class="o">-</span><span class="mi">508</span><span class="p">,</span>  <span class="mi">648</span><span class="p">,</span>   <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">272</span><span class="p">,</span>  <span class="o">-</span><span class="mi">120</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1004</span><span class="p">,</span> <span class="o">-</span><span class="mi">552</span><span class="p">,</span>  <span class="o">-</span><span class="mi">548</span><span class="p">,</span> <span class="o">-</span><span class="mi">384</span><span class="p">,</span>
  <span class="mi">548</span><span class="p">,</span>   <span class="o">-</span><span class="mi">296</span><span class="p">,</span>  <span class="mi">428</span><span class="p">,</span>   <span class="o">-</span><span class="mi">108</span><span class="p">,</span>  <span class="o">-</span><span class="mi">8</span><span class="p">,</span>    <span class="o">-</span><span class="mi">912</span><span class="p">,</span>  <span class="o">-</span><span class="mi">324</span><span class="p">,</span>  <span class="o">-</span><span class="mi">224</span><span class="p">,</span>  <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="o">-</span><span class="mi">112</span><span class="p">,</span> <span class="o">-</span><span class="mi">220</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">100</span><span class="p">,</span>  <span class="mi">996</span><span class="p">,</span>   <span class="o">-</span><span class="mi">796</span><span class="p">,</span>  <span class="mi">548</span><span class="p">,</span>   <span class="mi">360</span><span class="p">,</span>   <span class="o">-</span><span class="mi">216</span><span class="p">,</span>  <span class="mi">180</span><span class="p">,</span>   <span class="mi">428</span><span class="p">,</span>   <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="o">-</span><span class="mi">212</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span>
  <span class="mi">96</span><span class="p">,</span>    <span class="mi">148</span><span class="p">,</span>   <span class="mi">284</span><span class="p">,</span>   <span class="mi">216</span><span class="p">,</span>   <span class="o">-</span><span class="mi">412</span><span class="p">,</span>  <span class="o">-</span><span class="mi">320</span><span class="p">,</span>  <span class="mi">120</span><span class="p">,</span>   <span class="o">-</span><span class="mi">300</span><span class="p">,</span>  <span class="o">-</span><span class="mi">384</span><span class="p">,</span>  <span class="o">-</span><span class="mi">604</span><span class="p">,</span> <span class="o">-</span><span class="mi">572</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">332</span><span class="p">,</span>  <span class="o">-</span><span class="mi">8</span><span class="p">,</span>    <span class="o">-</span><span class="mi">180</span><span class="p">,</span>  <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="mi">696</span><span class="p">,</span>   <span class="mi">116</span><span class="p">,</span>   <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="mi">628</span><span class="p">,</span>   <span class="mi">76</span><span class="p">,</span>    <span class="mi">44</span><span class="p">,</span>   <span class="o">-</span><span class="mi">516</span><span class="p">,</span>
  <span class="mi">240</span><span class="p">,</span>   <span class="o">-</span><span class="mi">208</span><span class="p">,</span>  <span class="o">-</span><span class="mi">40</span><span class="p">,</span>   <span class="mi">100</span><span class="p">,</span>   <span class="o">-</span><span class="mi">592</span><span class="p">,</span>  <span class="mi">344</span><span class="p">,</span>   <span class="o">-</span><span class="mi">308</span><span class="p">,</span>  <span class="o">-</span><span class="mi">452</span><span class="p">,</span>  <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>   <span class="mi">916</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1752</span><span class="p">,</span> <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="o">-</span><span class="mi">340</span><span class="p">,</span>  <span class="o">-</span><span class="mi">804</span><span class="p">,</span>  <span class="mi">140</span><span class="p">,</span>   <span class="mi">40</span><span class="p">,</span>    <span class="mi">512</span><span class="p">,</span>   <span class="mi">340</span><span class="p">,</span>   <span class="mi">248</span><span class="p">,</span>   <span class="mi">184</span><span class="p">,</span>  <span class="o">-</span><span class="mi">492</span><span class="p">,</span>
  <span class="mi">896</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="mi">932</span><span class="p">,</span>   <span class="o">-</span><span class="mi">628</span><span class="p">,</span>  <span class="mi">328</span><span class="p">,</span>   <span class="o">-</span><span class="mi">688</span><span class="p">,</span>  <span class="o">-</span><span class="mi">448</span><span class="p">,</span>  <span class="o">-</span><span class="mi">616</span><span class="p">,</span>  <span class="o">-</span><span class="mi">752</span><span class="p">,</span>  <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">560</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1020</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span>   <span class="o">-</span><span class="mi">800</span><span class="p">,</span>  <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="mi">76</span><span class="p">,</span>    <span class="mi">576</span><span class="p">,</span>   <span class="mi">1068</span><span class="p">,</span>  <span class="mi">396</span><span class="p">,</span>   <span class="mi">660</span><span class="p">,</span>   <span class="mi">552</span><span class="p">,</span>  <span class="o">-</span><span class="mi">108</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="mi">320</span><span class="p">,</span>   <span class="o">-</span><span class="mi">628</span><span class="p">,</span>  <span class="mi">312</span><span class="p">,</span>   <span class="o">-</span><span class="mi">92</span><span class="p">,</span>   <span class="o">-</span><span class="mi">92</span><span class="p">,</span>   <span class="o">-</span><span class="mi">472</span><span class="p">,</span>  <span class="mi">268</span><span class="p">,</span>   <span class="mi">16</span><span class="p">,</span>    <span class="mi">560</span><span class="p">,</span>  <span class="mi">516</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">672</span><span class="p">,</span>  <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="mi">492</span><span class="p">,</span>   <span class="o">-</span><span class="mi">100</span><span class="p">,</span>  <span class="mi">260</span><span class="p">,</span>   <span class="mi">384</span><span class="p">,</span>   <span class="mi">284</span><span class="p">,</span>   <span class="mi">292</span><span class="p">,</span>   <span class="mi">304</span><span class="p">,</span>   <span class="o">-</span><span class="mi">148</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="mi">1012</span><span class="p">,</span>  <span class="mi">1064</span><span class="p">,</span>  <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="mi">164</span><span class="p">,</span>   <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="o">-</span><span class="mi">684</span><span class="p">,</span>  <span class="mi">592</span><span class="p">,</span>   <span class="o">-</span><span class="mi">392</span><span class="p">,</span>  <span class="mi">156</span><span class="p">,</span>  <span class="mi">196</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">524</span><span class="p">,</span>  <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="o">-</span><span class="mi">884</span><span class="p">,</span>  <span class="mi">160</span><span class="p">,</span>   <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="mi">636</span><span class="p">,</span>   <span class="mi">648</span><span class="p">,</span>   <span class="mi">404</span><span class="p">,</span>   <span class="o">-</span><span class="mi">396</span><span class="p">,</span>  <span class="o">-</span><span class="mi">436</span><span class="p">,</span> <span class="mi">864</span><span class="p">,</span>
  <span class="mi">424</span><span class="p">,</span>   <span class="o">-</span><span class="mi">728</span><span class="p">,</span>  <span class="mi">988</span><span class="p">,</span>   <span class="o">-</span><span class="mi">604</span><span class="p">,</span>  <span class="mi">904</span><span class="p">,</span>   <span class="o">-</span><span class="mi">592</span><span class="p">,</span>  <span class="mi">296</span><span class="p">,</span>   <span class="o">-</span><span class="mi">224</span><span class="p">,</span>  <span class="mi">536</span><span class="p">,</span>   <span class="o">-</span><span class="mi">176</span><span class="p">,</span> <span class="o">-</span><span class="mi">920</span><span class="p">,</span>
  <span class="mi">436</span><span class="p">,</span>   <span class="o">-</span><span class="mi">48</span><span class="p">,</span>   <span class="mi">1176</span><span class="p">,</span>  <span class="o">-</span><span class="mi">884</span><span class="p">,</span>  <span class="mi">416</span><span class="p">,</span>   <span class="o">-</span><span class="mi">776</span><span class="p">,</span>  <span class="o">-</span><span class="mi">824</span><span class="p">,</span>  <span class="o">-</span><span class="mi">884</span><span class="p">,</span>  <span class="mi">524</span><span class="p">,</span>   <span class="o">-</span><span class="mi">548</span><span class="p">,</span> <span class="o">-</span><span class="mi">564</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">68</span><span class="p">,</span>   <span class="o">-</span><span class="mi">164</span><span class="p">,</span>  <span class="o">-</span><span class="mi">96</span><span class="p">,</span>   <span class="mi">692</span><span class="p">,</span>   <span class="mi">364</span><span class="p">,</span>   <span class="o">-</span><span class="mi">692</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1012</span><span class="p">,</span> <span class="o">-</span><span class="mi">68</span><span class="p">,</span>   <span class="mi">260</span><span class="p">,</span>   <span class="o">-</span><span class="mi">480</span><span class="p">,</span> <span class="mi">876</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1116</span><span class="p">,</span> <span class="mi">452</span><span class="p">,</span>   <span class="o">-</span><span class="mi">332</span><span class="p">,</span>  <span class="o">-</span><span class="mi">352</span><span class="p">,</span>  <span class="mi">892</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1088</span><span class="p">,</span> <span class="mi">1220</span><span class="p">,</span>  <span class="o">-</span><span class="mi">676</span><span class="p">,</span>  <span class="mi">12</span><span class="p">,</span>    <span class="o">-</span><span class="mi">292</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span>
  <span class="mi">496</span><span class="p">,</span>   <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="mi">280</span><span class="p">,</span>   <span class="mi">200</span><span class="p">,</span>   <span class="mi">112</span><span class="p">,</span>   <span class="o">-</span><span class="mi">440</span><span class="p">,</span>  <span class="o">-</span><span class="mi">96</span><span class="p">,</span>   <span class="mi">24</span><span class="p">,</span>    <span class="o">-</span><span class="mi">644</span><span class="p">,</span> <span class="o">-</span><span class="mi">184</span><span class="p">,</span>
  <span class="mi">56</span><span class="p">,</span>    <span class="o">-</span><span class="mi">432</span><span class="p">,</span>  <span class="mi">224</span><span class="p">,</span>   <span class="o">-</span><span class="mi">980</span><span class="p">,</span>  <span class="mi">272</span><span class="p">,</span>   <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">144</span><span class="p">,</span>   <span class="o">-</span><span class="mi">436</span><span class="p">,</span>  <span class="mi">420</span><span class="p">,</span>   <span class="mi">356</span><span class="p">,</span>  <span class="mi">364</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">528</span><span class="p">,</span>  <span class="mi">76</span><span class="p">,</span>    <span class="mi">172</span><span class="p">,</span>   <span class="o">-</span><span class="mi">744</span><span class="p">,</span>  <span class="o">-</span><span class="mi">368</span><span class="p">,</span>  <span class="mi">404</span><span class="p">,</span>   <span class="o">-</span><span class="mi">752</span><span class="p">,</span>  <span class="o">-</span><span class="mi">416</span><span class="p">,</span>  <span class="mi">684</span><span class="p">,</span>   <span class="o">-</span><span class="mi">688</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span>
  <span class="mi">540</span><span class="p">,</span>   <span class="mi">416</span><span class="p">,</span>   <span class="mi">92</span><span class="p">,</span>    <span class="mi">444</span><span class="p">,</span>   <span class="mi">480</span><span class="p">,</span>   <span class="o">-</span><span class="mi">72</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1416</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1172</span><span class="p">,</span> <span class="o">-</span><span class="mi">68</span><span class="p">,</span>  <span class="mi">24</span><span class="p">,</span>
  <span class="mi">424</span><span class="p">,</span>   <span class="mi">264</span><span class="p">,</span>   <span class="mi">1040</span><span class="p">,</span>  <span class="mi">128</span><span class="p">,</span>   <span class="o">-</span><span class="mi">912</span><span class="p">,</span>  <span class="o">-</span><span class="mi">524</span><span class="p">,</span>  <span class="o">-</span><span class="mi">356</span><span class="p">,</span>  <span class="mi">64</span><span class="p">,</span>    <span class="mi">876</span><span class="p">,</span>   <span class="o">-</span><span class="mi">12</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="mi">532</span><span class="p">,</span>   <span class="mi">272</span><span class="p">,</span>   <span class="o">-</span><span class="mi">524</span><span class="p">,</span>  <span class="mi">320</span><span class="p">,</span>   <span class="mi">276</span><span class="p">,</span>   <span class="o">-</span><span class="mi">508</span><span class="p">,</span>  <span class="mi">940</span><span class="p">,</span>   <span class="mi">24</span><span class="p">,</span>    <span class="o">-</span><span class="mi">400</span><span class="p">,</span> <span class="o">-</span><span class="mi">120</span><span class="p">,</span>
  <span class="mi">756</span><span class="p">,</span>   <span class="mi">60</span><span class="p">,</span>    <span class="mi">236</span><span class="p">,</span>   <span class="o">-</span><span class="mi">412</span><span class="p">,</span>  <span class="mi">100</span><span class="p">,</span>   <span class="mi">376</span><span class="p">,</span>   <span class="o">-</span><span class="mi">484</span><span class="p">,</span>  <span class="mi">400</span><span class="p">,</span>   <span class="o">-</span><span class="mi">100</span><span class="p">,</span>  <span class="o">-</span><span class="mi">740</span><span class="p">,</span> <span class="o">-</span><span class="mi">108</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">328</span><span class="p">,</span>   <span class="o">-</span><span class="mi">268</span><span class="p">,</span>  <span class="mi">224</span><span class="p">,</span>   <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="o">-</span><span class="mi">416</span><span class="p">,</span>  <span class="mi">184</span><span class="p">,</span>   <span class="o">-</span><span class="mi">604</span><span class="p">,</span>  <span class="o">-</span><span class="mi">564</span><span class="p">,</span>  <span class="o">-</span><span class="mi">20</span><span class="p">,</span>  <span class="mi">296</span><span class="p">,</span>
  <span class="mi">60</span><span class="p">,</span>    <span class="mi">892</span><span class="p">,</span>   <span class="o">-</span><span class="mi">888</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span>    <span class="mi">164</span><span class="p">,</span>   <span class="mi">68</span><span class="p">,</span>    <span class="o">-</span><span class="mi">760</span><span class="p">,</span>  <span class="mi">216</span><span class="p">,</span>   <span class="o">-</span><span class="mi">296</span><span class="p">,</span>  <span class="mi">904</span><span class="p">,</span>  <span class="o">-</span><span class="mi">336</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="mi">404</span><span class="p">,</span>   <span class="o">-</span><span class="mi">356</span><span class="p">,</span>  <span class="o">-</span><span class="mi">568</span><span class="p">,</span>  <span class="o">-</span><span class="mi">208</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1480</span><span class="p">,</span> <span class="o">-</span><span class="mi">512</span><span class="p">,</span>  <span class="mi">296</span><span class="p">,</span>   <span class="mi">328</span><span class="p">,</span>   <span class="o">-</span><span class="mi">360</span><span class="p">,</span> <span class="o">-</span><span class="mi">164</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1560</span><span class="p">,</span> <span class="o">-</span><span class="mi">776</span><span class="p">,</span>  <span class="mi">1156</span><span class="p">,</span>  <span class="o">-</span><span class="mi">428</span><span class="p">,</span>  <span class="mi">164</span><span class="p">,</span>   <span class="o">-</span><span class="mi">504</span><span class="p">,</span>  <span class="o">-</span><span class="mi">112</span><span class="p">,</span>  <span class="mi">120</span><span class="p">,</span>   <span class="o">-</span><span class="mi">216</span><span class="p">,</span>  <span class="o">-</span><span class="mi">148</span><span class="p">,</span> <span class="o">-</span><span class="mi">264</span><span class="p">,</span>
  <span class="mi">308</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="mi">64</span><span class="p">,</span>    <span class="o">-</span><span class="mi">72</span><span class="p">,</span>   <span class="mi">72</span><span class="p">,</span>    <span class="mi">116</span><span class="p">,</span>   <span class="mi">176</span><span class="p">,</span>   <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="o">-</span><span class="mi">272</span><span class="p">,</span>  <span class="mi">460</span><span class="p">,</span>  <span class="o">-</span><span class="mi">536</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">784</span><span class="p">,</span>  <span class="o">-</span><span class="mi">280</span><span class="p">,</span>  <span class="mi">348</span><span class="p">,</span>   <span class="mi">108</span><span class="p">,</span>   <span class="o">-</span><span class="mi">752</span><span class="p">,</span>  <span class="o">-</span><span class="mi">132</span><span class="p">,</span>  <span class="mi">524</span><span class="p">,</span>   <span class="o">-</span><span class="mi">540</span><span class="p">,</span>  <span class="o">-</span><span class="mi">776</span><span class="p">,</span>  <span class="mi">116</span><span class="p">,</span>  <span class="o">-</span><span class="mi">296</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1196</span><span class="p">,</span> <span class="o">-</span><span class="mi">288</span><span class="p">,</span>  <span class="o">-</span><span class="mi">560</span><span class="p">,</span>  <span class="mi">1040</span><span class="p">,</span>  <span class="o">-</span><span class="mi">472</span><span class="p">,</span>  <span class="mi">116</span><span class="p">,</span>   <span class="o">-</span><span class="mi">848</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1116</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span>   <span class="mi">636</span><span class="p">,</span>  <span class="mi">696</span><span class="p">,</span>
  <span class="mi">284</span><span class="p">,</span>   <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="mi">1016</span><span class="p">,</span>  <span class="mi">204</span><span class="p">,</span>   <span class="o">-</span><span class="mi">864</span><span class="p">,</span>  <span class="o">-</span><span class="mi">648</span><span class="p">,</span>  <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="mi">356</span><span class="p">,</span>   <span class="mi">972</span><span class="p">,</span>   <span class="o">-</span><span class="mi">584</span><span class="p">,</span> <span class="o">-</span><span class="mi">204</span><span class="p">,</span>
  <span class="mi">264</span><span class="p">,</span>   <span class="mi">880</span><span class="p">,</span>   <span class="mi">528</span><span class="p">,</span>   <span class="o">-</span><span class="mi">24</span><span class="p">,</span>   <span class="o">-</span><span class="mi">184</span><span class="p">,</span>  <span class="mi">116</span><span class="p">,</span>   <span class="mi">448</span><span class="p">,</span>   <span class="o">-</span><span class="mi">144</span><span class="p">,</span>  <span class="mi">828</span><span class="p">,</span>   <span class="mi">524</span><span class="p">,</span>  <span class="mi">212</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">212</span><span class="p">,</span>  <span class="mi">52</span><span class="p">,</span>    <span class="mi">12</span><span class="p">,</span>    <span class="mi">200</span><span class="p">,</span>   <span class="mi">268</span><span class="p">,</span>   <span class="o">-</span><span class="mi">488</span><span class="p">,</span>  <span class="o">-</span><span class="mi">404</span><span class="p">,</span>  <span class="o">-</span><span class="mi">880</span><span class="p">,</span>  <span class="mi">824</span><span class="p">,</span>   <span class="o">-</span><span class="mi">672</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span>
  <span class="mi">908</span><span class="p">,</span>   <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="mi">500</span><span class="p">,</span>   <span class="mi">716</span><span class="p">,</span>   <span class="o">-</span><span class="mi">576</span><span class="p">,</span>  <span class="mi">492</span><span class="p">,</span>   <span class="o">-</span><span class="mi">576</span><span class="p">,</span>  <span class="mi">16</span><span class="p">,</span>    <span class="mi">720</span><span class="p">,</span>   <span class="o">-</span><span class="mi">108</span><span class="p">,</span> <span class="mi">384</span><span class="p">,</span>
  <span class="mi">124</span><span class="p">,</span>   <span class="mi">344</span><span class="p">,</span>   <span class="mi">280</span><span class="p">,</span>   <span class="mi">576</span><span class="p">,</span>   <span class="o">-</span><span class="mi">500</span><span class="p">,</span>  <span class="mi">252</span><span class="p">,</span>   <span class="mi">104</span><span class="p">,</span>   <span class="o">-</span><span class="mi">308</span><span class="p">,</span>  <span class="mi">196</span><span class="p">,</span>   <span class="o">-</span><span class="mi">188</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span>
  <span class="mi">1268</span><span class="p">,</span>  <span class="mi">296</span><span class="p">,</span>   <span class="mi">1032</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1196</span><span class="p">,</span> <span class="mi">436</span><span class="p">,</span>   <span class="mi">316</span><span class="p">,</span>   <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">432</span><span class="p">,</span>  <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="o">-</span><span class="mi">660</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">224</span><span class="p">,</span>  <span class="mi">596</span><span class="p">,</span>   <span class="o">-</span><span class="mi">132</span><span class="p">,</span>  <span class="mi">268</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="o">-</span><span class="mi">452</span><span class="p">,</span>  <span class="mi">884</span><span class="p">,</span>   <span class="mi">104</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1008</span><span class="p">,</span> <span class="mi">424</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1348</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">280</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>     <span class="o">-</span><span class="mi">1168</span><span class="p">,</span> <span class="mi">368</span><span class="p">,</span>   <span class="mi">476</span><span class="p">,</span>   <span class="mi">696</span><span class="p">,</span>   <span class="mi">300</span><span class="p">,</span>   <span class="o">-</span><span class="mi">8</span><span class="p">,</span>    <span class="mi">24</span><span class="p">,</span>    <span class="mi">180</span><span class="p">,</span>  <span class="o">-</span><span class="mi">592</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="mi">388</span><span class="p">,</span>   <span class="mi">304</span><span class="p">,</span>   <span class="mi">500</span><span class="p">,</span>   <span class="mi">724</span><span class="p">,</span>   <span class="o">-</span><span class="mi">160</span><span class="p">,</span>  <span class="mi">244</span><span class="p">,</span>   <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="mi">272</span><span class="p">,</span>   <span class="o">-</span><span class="mi">256</span><span class="p">,</span> <span class="o">-</span><span class="mi">420</span><span class="p">,</span>
  <span class="mi">320</span><span class="p">,</span>   <span class="mi">208</span><span class="p">,</span>   <span class="o">-</span><span class="mi">144</span><span class="p">,</span>  <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="mi">156</span><span class="p">,</span>   <span class="mi">364</span><span class="p">,</span>   <span class="mi">452</span><span class="p">,</span>   <span class="mi">28</span><span class="p">,</span>    <span class="mi">540</span><span class="p">,</span>   <span class="mi">316</span><span class="p">,</span>  <span class="mi">220</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">644</span><span class="p">,</span>  <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="mi">464</span><span class="p">,</span>   <span class="mi">72</span><span class="p">,</span>    <span class="mi">360</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="o">-</span><span class="mi">388</span><span class="p">,</span>  <span class="mi">496</span><span class="p">,</span>   <span class="o">-</span><span class="mi">680</span><span class="p">,</span>  <span class="o">-</span><span class="mi">48</span><span class="p">,</span>  <span class="mi">208</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">116</span><span class="p">,</span>  <span class="o">-</span><span class="mi">408</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span>    <span class="o">-</span><span class="mi">604</span><span class="p">,</span>  <span class="o">-</span><span class="mi">392</span><span class="p">,</span>  <span class="mi">548</span><span class="p">,</span>   <span class="o">-</span><span class="mi">840</span><span class="p">,</span>  <span class="mi">784</span><span class="p">,</span>   <span class="o">-</span><span class="mi">460</span><span class="p">,</span>  <span class="mi">656</span><span class="p">,</span>  <span class="o">-</span><span class="mi">544</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">388</span><span class="p">,</span>  <span class="o">-</span><span class="mi">264</span><span class="p">,</span>  <span class="mi">908</span><span class="p">,</span>   <span class="o">-</span><span class="mi">800</span><span class="p">,</span>  <span class="o">-</span><span class="mi">628</span><span class="p">,</span>  <span class="o">-</span><span class="mi">612</span><span class="p">,</span>  <span class="o">-</span><span class="mi">568</span><span class="p">,</span>  <span class="mi">572</span><span class="p">,</span>   <span class="o">-</span><span class="mi">220</span><span class="p">,</span>  <span class="mi">164</span><span class="p">,</span>  <span class="mi">288</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">16</span><span class="p">,</span>   <span class="o">-</span><span class="mi">308</span><span class="p">,</span>  <span class="mi">308</span><span class="p">,</span>   <span class="o">-</span><span class="mi">112</span><span class="p">,</span>  <span class="o">-</span><span class="mi">636</span><span class="p">,</span>  <span class="o">-</span><span class="mi">760</span><span class="p">,</span>  <span class="mi">280</span><span class="p">,</span>   <span class="o">-</span><span class="mi">668</span><span class="p">,</span>  <span class="mi">432</span><span class="p">,</span>   <span class="mi">364</span><span class="p">,</span>  <span class="mi">240</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="mi">604</span><span class="p">,</span>   <span class="mi">340</span><span class="p">,</span>   <span class="mi">384</span><span class="p">,</span>   <span class="mi">196</span><span class="p">,</span>   <span class="mi">592</span><span class="p">,</span>   <span class="o">-</span><span class="mi">44</span><span class="p">,</span>   <span class="o">-</span><span class="mi">500</span><span class="p">,</span>  <span class="mi">432</span><span class="p">,</span>   <span class="o">-</span><span class="mi">580</span><span class="p">,</span> <span class="o">-</span><span class="mi">132</span><span class="p">,</span>
  <span class="mi">636</span><span class="p">,</span>   <span class="o">-</span><span class="mi">76</span><span class="p">,</span>   <span class="mi">392</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>     <span class="o">-</span><span class="mi">412</span><span class="p">,</span>  <span class="mi">540</span><span class="p">,</span>   <span class="mi">508</span><span class="p">,</span>   <span class="mi">328</span><span class="p">,</span>   <span class="o">-</span><span class="mi">356</span><span class="p">,</span>  <span class="o">-</span><span class="mi">36</span><span class="p">,</span>  <span class="mi">16</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">220</span><span class="p">,</span>  <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="mi">24</span><span class="p">,</span>    <span class="o">-</span><span class="mi">192</span><span class="p">,</span>  <span class="mi">368</span><span class="p">,</span>   <span class="mi">1040</span><span class="p">,</span>  <span class="mi">92</span><span class="p">,</span>    <span class="o">-</span><span class="mi">24</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1044</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="mi">40</span><span class="p">,</span>    <span class="mi">104</span><span class="p">,</span>   <span class="mi">148</span><span class="p">,</span>   <span class="mi">192</span><span class="p">,</span>   <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="mi">56</span><span class="p">,</span>    <span class="o">-</span><span class="mi">816</span><span class="p">,</span>  <span class="o">-</span><span class="mi">224</span><span class="p">,</span> <span class="mi">732</span><span class="p">,</span>
  <span class="mi">392</span><span class="p">,</span>   <span class="mi">356</span><span class="p">,</span>   <span class="mi">212</span><span class="p">,</span>   <span class="o">-</span><span class="mi">80</span><span class="p">,</span>   <span class="o">-</span><span class="mi">424</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1008</span><span class="p">,</span> <span class="o">-</span><span class="mi">324</span><span class="p">,</span>  <span class="mi">588</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1496</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span>  <span class="mi">460</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">816</span><span class="p">,</span>  <span class="o">-</span><span class="mi">848</span><span class="p">,</span>  <span class="mi">56</span><span class="p">,</span>    <span class="o">-</span><span class="mi">580</span><span class="p">,</span>  <span class="o">-</span><span class="mi">92</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1372</span><span class="p">,</span> <span class="o">-</span><span class="mi">112</span><span class="p">,</span>  <span class="o">-</span><span class="mi">496</span><span class="p">,</span>  <span class="mi">200</span><span class="p">,</span>   <span class="mi">364</span><span class="p">,</span>  <span class="mi">52</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">140</span><span class="p">,</span>  <span class="mi">48</span><span class="p">,</span>    <span class="o">-</span><span class="mi">48</span><span class="p">,</span>   <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="mi">84</span><span class="p">,</span>    <span class="mi">72</span><span class="p">,</span>    <span class="mi">40</span><span class="p">,</span>    <span class="mi">132</span><span class="p">,</span>   <span class="o">-</span><span class="mi">356</span><span class="p">,</span>  <span class="o">-</span><span class="mi">268</span><span class="p">,</span> <span class="o">-</span><span class="mi">104</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">284</span><span class="p">,</span>  <span class="o">-</span><span class="mi">404</span><span class="p">,</span>  <span class="mi">732</span><span class="p">,</span>   <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="mi">164</span><span class="p">,</span>   <span class="o">-</span><span class="mi">304</span><span class="p">,</span>  <span class="o">-</span><span class="mi">540</span><span class="p">,</span>  <span class="mi">120</span><span class="p">,</span>   <span class="mi">328</span><span class="p">,</span>   <span class="o">-</span><span class="mi">76</span><span class="p">,</span>  <span class="o">-</span><span class="mi">460</span><span class="p">,</span>
  <span class="mi">756</span><span class="p">,</span>   <span class="mi">388</span><span class="p">,</span>   <span class="mi">588</span><span class="p">,</span>   <span class="mi">236</span><span class="p">,</span>   <span class="o">-</span><span class="mi">436</span><span class="p">,</span>  <span class="o">-</span><span class="mi">72</span><span class="p">,</span>   <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="o">-</span><span class="mi">404</span><span class="p">,</span>  <span class="o">-</span><span class="mi">316</span><span class="p">,</span>  <span class="o">-</span><span class="mi">148</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">604</span><span class="p">,</span>  <span class="mi">404</span><span class="p">,</span>   <span class="o">-</span><span class="mi">72</span><span class="p">,</span>   <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="o">-</span><span class="mi">888</span><span class="p">,</span>  <span class="o">-</span><span class="mi">68</span><span class="p">,</span>   <span class="mi">944</span><span class="p">,</span>   <span class="mi">88</span><span class="p">,</span>    <span class="o">-</span><span class="mi">220</span><span class="p">,</span>  <span class="o">-</span><span class="mi">344</span><span class="p">,</span> <span class="mi">960</span><span class="p">,</span>
  <span class="mi">472</span><span class="p">,</span>   <span class="mi">460</span><span class="p">,</span>   <span class="o">-</span><span class="mi">232</span><span class="p">,</span>  <span class="mi">704</span><span class="p">,</span>   <span class="mi">120</span><span class="p">,</span>   <span class="mi">832</span><span class="p">,</span>   <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="mi">692</span><span class="p">,</span>   <span class="o">-</span><span class="mi">508</span><span class="p">,</span>  <span class="mi">132</span><span class="p">,</span>  <span class="o">-</span><span class="mi">476</span><span class="p">,</span>
  <span class="mi">844</span><span class="p">,</span>   <span class="o">-</span><span class="mi">748</span><span class="p">,</span>  <span class="o">-</span><span class="mi">364</span><span class="p">,</span>  <span class="o">-</span><span class="mi">44</span><span class="p">,</span>   <span class="mi">1116</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1104</span><span class="p">,</span> <span class="o">-</span><span class="mi">1056</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span>    <span class="mi">428</span><span class="p">,</span>   <span class="mi">552</span><span class="p">,</span>  <span class="o">-</span><span class="mi">692</span><span class="p">,</span>
  <span class="mi">60</span><span class="p">,</span>    <span class="mi">356</span><span class="p">,</span>   <span class="mi">96</span><span class="p">,</span>    <span class="o">-</span><span class="mi">384</span><span class="p">,</span>  <span class="o">-</span><span class="mi">188</span><span class="p">,</span>  <span class="o">-</span><span class="mi">612</span><span class="p">,</span>  <span class="o">-</span><span class="mi">576</span><span class="p">,</span>  <span class="mi">736</span><span class="p">,</span>   <span class="mi">508</span><span class="p">,</span>   <span class="mi">892</span><span class="p">,</span>  <span class="mi">352</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1132</span><span class="p">,</span> <span class="mi">504</span><span class="p">,</span>   <span class="o">-</span><span class="mi">24</span><span class="p">,</span>   <span class="o">-</span><span class="mi">352</span><span class="p">,</span>  <span class="mi">324</span><span class="p">,</span>   <span class="mi">332</span><span class="p">,</span>   <span class="o">-</span><span class="mi">600</span><span class="p">,</span>  <span class="o">-</span><span class="mi">312</span><span class="p">,</span>  <span class="mi">292</span><span class="p">,</span>   <span class="mi">508</span><span class="p">,</span>  <span class="o">-</span><span class="mi">144</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">8</span><span class="p">,</span>    <span class="mi">484</span><span class="p">,</span>   <span class="mi">48</span><span class="p">,</span>    <span class="mi">284</span><span class="p">,</span>   <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="o">-</span><span class="mi">240</span><span class="p">,</span>  <span class="mi">256</span><span class="p">,</span>   <span class="o">-</span><span class="mi">100</span><span class="p">,</span>  <span class="o">-</span><span class="mi">292</span><span class="p">,</span>  <span class="o">-</span><span class="mi">204</span><span class="p">,</span> <span class="o">-</span><span class="mi">44</span><span class="p">,</span>
  <span class="mi">472</span><span class="p">,</span>   <span class="o">-</span><span class="mi">204</span><span class="p">,</span>  <span class="mi">908</span><span class="p">,</span>   <span class="o">-</span><span class="mi">188</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="o">-</span><span class="mi">256</span><span class="p">,</span>  <span class="mi">92</span><span class="p">,</span>    <span class="mi">1164</span><span class="p">,</span>  <span class="o">-</span><span class="mi">392</span><span class="p">,</span>  <span class="mi">564</span><span class="p">,</span>  <span class="mi">356</span><span class="p">,</span>
  <span class="mi">652</span><span class="p">,</span>   <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="o">-</span><span class="mi">884</span><span class="p">,</span>  <span class="mi">256</span><span class="p">,</span>   <span class="mi">484</span><span class="p">,</span>   <span class="o">-</span><span class="mi">192</span><span class="p">,</span>  <span class="mi">760</span><span class="p">,</span>   <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="mi">376</span><span class="p">,</span>   <span class="o">-</span><span class="mi">524</span><span class="p">,</span> <span class="o">-</span><span class="mi">452</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">436</span><span class="p">,</span>  <span class="mi">860</span><span class="p">,</span>   <span class="o">-</span><span class="mi">736</span><span class="p">,</span>  <span class="mi">212</span><span class="p">,</span>   <span class="mi">124</span><span class="p">,</span>   <span class="mi">504</span><span class="p">,</span>   <span class="o">-</span><span class="mi">476</span><span class="p">,</span>  <span class="mi">468</span><span class="p">,</span>   <span class="mi">76</span><span class="p">,</span>    <span class="o">-</span><span class="mi">472</span><span class="p">,</span> <span class="mi">552</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">692</span><span class="p">,</span>  <span class="o">-</span><span class="mi">944</span><span class="p">,</span>  <span class="o">-</span><span class="mi">620</span><span class="p">,</span>  <span class="mi">740</span><span class="p">,</span>   <span class="o">-</span><span class="mi">240</span><span class="p">,</span>  <span class="mi">400</span><span class="p">,</span>   <span class="mi">132</span><span class="p">,</span>   <span class="mi">20</span><span class="p">,</span>    <span class="mi">192</span><span class="p">,</span>   <span class="o">-</span><span class="mi">196</span><span class="p">,</span> <span class="mi">264</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">668</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1012</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="mi">296</span><span class="p">,</span>   <span class="o">-</span><span class="mi">316</span><span class="p">,</span>  <span class="o">-</span><span class="mi">828</span><span class="p">,</span>  <span class="mi">76</span><span class="p">,</span>    <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="mi">284</span><span class="p">,</span>   <span class="o">-</span><span class="mi">768</span><span class="p">,</span> <span class="o">-</span><span class="mi">448</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">832</span><span class="p">,</span>  <span class="mi">148</span><span class="p">,</span>   <span class="mi">248</span><span class="p">,</span>   <span class="mi">652</span><span class="p">,</span>   <span class="mi">616</span><span class="p">,</span>   <span class="mi">1236</span><span class="p">,</span>  <span class="mi">288</span><span class="p">,</span>   <span class="o">-</span><span class="mi">328</span><span class="p">,</span>  <span class="o">-</span><span class="mi">400</span><span class="p">,</span>  <span class="o">-</span><span class="mi">124</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span>
  <span class="mi">220</span><span class="p">,</span>   <span class="mi">520</span><span class="p">,</span>   <span class="o">-</span><span class="mi">696</span><span class="p">,</span>  <span class="mi">1032</span><span class="p">,</span>  <span class="mi">768</span><span class="p">,</span>   <span class="o">-</span><span class="mi">740</span><span class="p">,</span>  <span class="o">-</span><span class="mi">92</span><span class="p">,</span>   <span class="o">-</span><span class="mi">272</span><span class="p">,</span>  <span class="mi">296</span><span class="p">,</span>   <span class="mi">448</span><span class="p">,</span>  <span class="o">-</span><span class="mi">464</span><span class="p">,</span>
  <span class="mi">412</span><span class="p">,</span>   <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="mi">392</span><span class="p">,</span>   <span class="mi">440</span><span class="p">,</span>   <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="mi">264</span><span class="p">,</span>   <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">320</span><span class="p">,</span>   <span class="mi">1032</span><span class="p">,</span> <span class="mi">216</span><span class="p">,</span>
  <span class="mi">320</span><span class="p">,</span>   <span class="o">-</span><span class="mi">8</span><span class="p">,</span>    <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="mi">156</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1016</span><span class="p">,</span> <span class="mi">1084</span><span class="p">,</span>  <span class="mi">1172</span><span class="p">,</span>  <span class="mi">536</span><span class="p">,</span>   <span class="mi">484</span><span class="p">,</span>   <span class="o">-</span><span class="mi">432</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span>
  <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="o">-</span><span class="mi">256</span><span class="p">,</span>  <span class="mi">84</span><span class="p">,</span>    <span class="mi">116</span><span class="p">,</span>   <span class="o">-</span><span class="mi">352</span><span class="p">,</span>  <span class="mi">48</span><span class="p">,</span>    <span class="mi">116</span><span class="p">,</span>   <span class="mi">304</span><span class="p">,</span>   <span class="o">-</span><span class="mi">384</span><span class="p">,</span> <span class="mi">412</span><span class="p">,</span>
  <span class="mi">924</span><span class="p">,</span>   <span class="o">-</span><span class="mi">300</span><span class="p">,</span>  <span class="mi">528</span><span class="p">,</span>   <span class="mi">628</span><span class="p">,</span>   <span class="mi">180</span><span class="p">,</span>   <span class="mi">648</span><span class="p">,</span>   <span class="mi">44</span><span class="p">,</span>    <span class="o">-</span><span class="mi">980</span><span class="p">,</span>  <span class="o">-</span><span class="mi">220</span><span class="p">,</span>  <span class="mi">1320</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span>
  <span class="mi">332</span><span class="p">,</span>   <span class="mi">748</span><span class="p">,</span>   <span class="mi">524</span><span class="p">,</span>   <span class="o">-</span><span class="mi">268</span><span class="p">,</span>  <span class="o">-</span><span class="mi">720</span><span class="p">,</span>  <span class="mi">540</span><span class="p">,</span>   <span class="o">-</span><span class="mi">276</span><span class="p">,</span>  <span class="mi">564</span><span class="p">,</span>   <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="o">-</span><span class="mi">208</span><span class="p">,</span> <span class="o">-</span><span class="mi">196</span><span class="p">,</span>
  <span class="mi">436</span><span class="p">,</span>   <span class="mi">896</span><span class="p">,</span>   <span class="mi">88</span><span class="p">,</span>    <span class="o">-</span><span class="mi">392</span><span class="p">,</span>  <span class="mi">132</span><span class="p">,</span>   <span class="mi">80</span><span class="p">,</span>    <span class="o">-</span><span class="mi">964</span><span class="p">,</span>  <span class="o">-</span><span class="mi">288</span><span class="p">,</span>  <span class="mi">568</span><span class="p">,</span>   <span class="mi">56</span><span class="p">,</span>   <span class="o">-</span><span class="mi">48</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">456</span><span class="p">,</span>  <span class="mi">888</span><span class="p">,</span>   <span class="mi">8</span><span class="p">,</span>     <span class="mi">552</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="o">-</span><span class="mi">292</span><span class="p">,</span>  <span class="mi">948</span><span class="p">,</span>   <span class="mi">288</span><span class="p">,</span>   <span class="mi">128</span><span class="p">,</span>   <span class="o">-</span><span class="mi">716</span><span class="p">,</span> <span class="o">-</span><span class="mi">292</span><span class="p">,</span>
  <span class="mi">1192</span><span class="p">,</span>  <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="mi">876</span><span class="p">,</span>   <span class="mi">352</span><span class="p">,</span>   <span class="o">-</span><span class="mi">600</span><span class="p">,</span>  <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="o">-</span><span class="mi">812</span><span class="p">,</span>  <span class="o">-</span><span class="mi">468</span><span class="p">,</span>  <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="o">-</span><span class="mi">120</span><span class="p">,</span> <span class="o">-</span><span class="mi">32</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">44</span><span class="p">,</span>   <span class="mi">1284</span><span class="p">,</span>  <span class="mi">496</span><span class="p">,</span>   <span class="mi">192</span><span class="p">,</span>   <span class="mi">464</span><span class="p">,</span>   <span class="mi">312</span><span class="p">,</span>   <span class="o">-</span><span class="mi">76</span><span class="p">,</span>   <span class="o">-</span><span class="mi">516</span><span class="p">,</span>  <span class="o">-</span><span class="mi">380</span><span class="p">,</span>  <span class="o">-</span><span class="mi">456</span><span class="p">,</span> <span class="o">-</span><span class="mi">1012</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">48</span><span class="p">,</span>   <span class="mi">308</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="mi">36</span><span class="p">,</span>    <span class="mi">492</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="o">-</span><span class="mi">808</span><span class="p">,</span>  <span class="mi">188</span><span class="p">,</span>   <span class="mi">1652</span><span class="p">,</span>  <span class="mi">68</span><span class="p">,</span>   <span class="o">-</span><span class="mi">120</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">116</span><span class="p">,</span>  <span class="mi">316</span><span class="p">,</span>   <span class="mi">160</span><span class="p">,</span>   <span class="o">-</span><span class="mi">140</span><span class="p">,</span>  <span class="mi">352</span><span class="p">,</span>   <span class="mi">808</span><span class="p">,</span>   <span class="o">-</span><span class="mi">416</span><span class="p">,</span>  <span class="mi">592</span><span class="p">,</span>   <span class="mi">316</span><span class="p">,</span>   <span class="o">-</span><span class="mi">480</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span>
  <span class="mi">528</span><span class="p">,</span>   <span class="o">-</span><span class="mi">204</span><span class="p">,</span>  <span class="o">-</span><span class="mi">568</span><span class="p">,</span>  <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">232</span><span class="p">,</span>  <span class="mi">752</span><span class="p">,</span>   <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="mi">744</span><span class="p">,</span>   <span class="o">-</span><span class="mi">4</span><span class="p">,</span>    <span class="mi">324</span><span class="p">,</span>  <span class="o">-</span><span class="mi">416</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">600</span><span class="p">,</span>  <span class="mi">768</span><span class="p">,</span>   <span class="mi">268</span><span class="p">,</span>   <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="o">-</span><span class="mi">132</span><span class="p">,</span>  <span class="o">-</span><span class="mi">420</span><span class="p">,</span>  <span class="o">-</span><span class="mi">432</span><span class="p">,</span>  <span class="mi">80</span><span class="p">,</span>    <span class="o">-</span><span class="mi">288</span><span class="p">,</span> <span class="mi">404</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">316</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1216</span><span class="p">,</span> <span class="o">-</span><span class="mi">588</span><span class="p">,</span>  <span class="mi">520</span><span class="p">,</span>   <span class="o">-</span><span class="mi">108</span><span class="p">,</span>  <span class="mi">92</span><span class="p">,</span>    <span class="o">-</span><span class="mi">320</span><span class="p">,</span>  <span class="mi">368</span><span class="p">,</span>   <span class="o">-</span><span class="mi">480</span><span class="p">,</span>  <span class="o">-</span><span class="mi">216</span><span class="p">,</span> <span class="o">-</span><span class="mi">92</span><span class="p">,</span>
  <span class="mi">1688</span><span class="p">,</span>  <span class="o">-</span><span class="mi">300</span><span class="p">,</span>  <span class="mi">180</span><span class="p">,</span>   <span class="mi">1020</span><span class="p">,</span>  <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="mi">820</span><span class="p">,</span>   <span class="o">-</span><span class="mi">68</span><span class="p">,</span>   <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">436</span><span class="p">,</span>  <span class="o">-</span><span class="mi">904</span><span class="p">,</span>
  <span class="mi">20</span><span class="p">,</span>    <span class="mi">40</span><span class="p">,</span>    <span class="o">-</span><span class="mi">508</span><span class="p">,</span>  <span class="mi">440</span><span class="p">,</span>   <span class="o">-</span><span class="mi">736</span><span class="p">,</span>  <span class="mi">312</span><span class="p">,</span>   <span class="mi">332</span><span class="p">,</span>   <span class="mi">204</span><span class="p">,</span>   <span class="mi">760</span><span class="p">,</span>   <span class="o">-</span><span class="mi">372</span><span class="p">,</span> <span class="mi">728</span><span class="p">,</span>
  <span class="mi">96</span><span class="p">,</span>    <span class="o">-</span><span class="mi">20</span><span class="p">,</span>   <span class="o">-</span><span class="mi">632</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="o">-</span><span class="mi">560</span><span class="p">,</span>  <span class="mi">336</span><span class="p">,</span>   <span class="mi">1076</span><span class="p">,</span>  <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="o">-</span><span class="mi">532</span><span class="p">,</span>  <span class="mi">776</span><span class="p">,</span>  <span class="mi">584</span><span class="p">,</span>
  <span class="mi">192</span><span class="p">,</span>   <span class="mi">396</span><span class="p">,</span>   <span class="o">-</span><span class="mi">728</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="mi">276</span><span class="p">,</span>   <span class="o">-</span><span class="mi">188</span><span class="p">,</span>  <span class="mi">80</span><span class="p">,</span>    <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="o">-</span><span class="mi">612</span><span class="p">,</span>  <span class="o">-</span><span class="mi">252</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span>
  <span class="mi">648</span><span class="p">,</span>   <span class="mi">212</span><span class="p">,</span>   <span class="o">-</span><span class="mi">688</span><span class="p">,</span>  <span class="mi">228</span><span class="p">,</span>   <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">428</span><span class="p">,</span>   <span class="o">-</span><span class="mi">412</span><span class="p">,</span>  <span class="o">-</span><span class="mi">272</span><span class="p">,</span>  <span class="o">-</span><span class="mi">404</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span>
  <span class="mi">816</span><span class="p">,</span>   <span class="o">-</span><span class="mi">796</span><span class="p">,</span>  <span class="mi">48</span><span class="p">,</span>    <span class="mi">152</span><span class="p">,</span>   <span class="mi">484</span><span class="p">,</span>   <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="o">-</span><span class="mi">216</span><span class="p">,</span>  <span class="mi">988</span><span class="p">,</span>   <span class="mi">696</span><span class="p">,</span>   <span class="mi">188</span><span class="p">,</span>  <span class="o">-</span><span class="mi">528</span><span class="p">,</span>
  <span class="mi">648</span><span class="p">,</span>   <span class="o">-</span><span class="mi">116</span><span class="p">,</span>  <span class="o">-</span><span class="mi">180</span><span class="p">,</span>  <span class="mi">316</span><span class="p">,</span>   <span class="mi">476</span><span class="p">,</span>   <span class="mi">12</span><span class="p">,</span>    <span class="o">-</span><span class="mi">564</span><span class="p">,</span>  <span class="mi">96</span><span class="p">,</span>    <span class="mi">476</span><span class="p">,</span>   <span class="o">-</span><span class="mi">252</span><span class="p">,</span> <span class="o">-</span><span class="mi">364</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="o">-</span><span class="mi">392</span><span class="p">,</span>  <span class="mi">556</span><span class="p">,</span>   <span class="o">-</span><span class="mi">256</span><span class="p">,</span>  <span class="o">-</span><span class="mi">576</span><span class="p">,</span>  <span class="mi">260</span><span class="p">,</span>   <span class="o">-</span><span class="mi">352</span><span class="p">,</span>  <span class="mi">120</span><span class="p">,</span>   <span class="o">-</span><span class="mi">16</span><span class="p">,</span>   <span class="o">-</span><span class="mi">136</span><span class="p">,</span> <span class="o">-</span><span class="mi">260</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">492</span><span class="p">,</span>  <span class="mi">72</span><span class="p">,</span>    <span class="mi">556</span><span class="p">,</span>   <span class="mi">660</span><span class="p">,</span>   <span class="mi">580</span><span class="p">,</span>   <span class="mi">616</span><span class="p">,</span>   <span class="mi">772</span><span class="p">,</span>   <span class="mi">436</span><span class="p">,</span>   <span class="mi">424</span><span class="p">,</span>   <span class="o">-</span><span class="mi">32</span><span class="p">,</span>  <span class="o">-</span><span class="mi">324</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1268</span><span class="p">,</span> <span class="mi">416</span><span class="p">,</span>   <span class="o">-</span><span class="mi">324</span><span class="p">,</span>  <span class="o">-</span><span class="mi">80</span><span class="p">,</span>   <span class="mi">920</span><span class="p">,</span>   <span class="mi">160</span><span class="p">,</span>   <span class="mi">228</span><span class="p">,</span>   <span class="mi">724</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="o">-</span><span class="mi">516</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span>
  <span class="mi">384</span><span class="p">,</span>   <span class="mi">68</span><span class="p">,</span>    <span class="o">-</span><span class="mi">128</span><span class="p">,</span>  <span class="mi">136</span><span class="p">,</span>   <span class="mi">240</span><span class="p">,</span>   <span class="mi">248</span><span class="p">,</span>   <span class="o">-</span><span class="mi">204</span><span class="p">,</span>  <span class="o">-</span><span class="mi">68</span><span class="p">,</span>   <span class="mi">252</span><span class="p">,</span>   <span class="o">-</span><span class="mi">932</span><span class="p">,</span> <span class="o">-</span><span class="mi">120</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">480</span><span class="p">,</span>  <span class="o">-</span><span class="mi">628</span><span class="p">,</span>  <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="mi">192</span><span class="p">,</span>   <span class="mi">852</span><span class="p">,</span>   <span class="o">-</span><span class="mi">404</span><span class="p">,</span>  <span class="o">-</span><span class="mi">288</span><span class="p">,</span>  <span class="o">-</span><span class="mi">132</span><span class="p">,</span>  <span class="mi">204</span><span class="p">,</span>   <span class="mi">100</span><span class="p">,</span>  <span class="mi">168</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">68</span><span class="p">,</span>   <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="o">-</span><span class="mi">868</span><span class="p">,</span>  <span class="mi">460</span><span class="p">,</span>   <span class="mi">1080</span><span class="p">,</span>  <span class="mi">380</span><span class="p">,</span>   <span class="o">-</span><span class="mi">80</span><span class="p">,</span>   <span class="mi">244</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>     <span class="mi">484</span><span class="p">,</span>  <span class="o">-</span><span class="mi">888</span><span class="p">,</span>
  <span class="mi">64</span><span class="p">,</span>    <span class="mi">184</span><span class="p">,</span>   <span class="mi">352</span><span class="p">,</span>   <span class="mi">600</span><span class="p">,</span>   <span class="mi">460</span><span class="p">,</span>   <span class="mi">164</span><span class="p">,</span>   <span class="mi">604</span><span class="p">,</span>   <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="mi">320</span><span class="p">,</span>   <span class="o">-</span><span class="mi">64</span><span class="p">,</span>  <span class="mi">588</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">184</span><span class="p">,</span>  <span class="mi">228</span><span class="p">,</span>   <span class="mi">12</span><span class="p">,</span>    <span class="mi">372</span><span class="p">,</span>   <span class="mi">48</span><span class="p">,</span>    <span class="o">-</span><span class="mi">848</span><span class="p">,</span>  <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="mi">224</span><span class="p">,</span>   <span class="mi">208</span><span class="p">,</span>   <span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="mi">484</span><span class="p">,</span>
  <span class="mi">128</span><span class="p">,</span>   <span class="o">-</span><span class="mi">20</span><span class="p">,</span>   <span class="mi">272</span><span class="p">,</span>   <span class="o">-</span><span class="mi">468</span><span class="p">,</span>  <span class="o">-</span><span class="mi">840</span><span class="p">,</span>  <span class="mi">384</span><span class="p">,</span>   <span class="mi">256</span><span class="p">,</span>   <span class="o">-</span><span class="mi">720</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="o">-</span><span class="mi">464</span><span class="p">,</span> <span class="o">-</span><span class="mi">580</span><span class="p">,</span>
  <span class="mi">112</span><span class="p">,</span>   <span class="o">-</span><span class="mi">120</span><span class="p">,</span>  <span class="mi">644</span><span class="p">,</span>   <span class="o">-</span><span class="mi">356</span><span class="p">,</span>  <span class="o">-</span><span class="mi">208</span><span class="p">,</span>  <span class="o">-</span><span class="mi">608</span><span class="p">,</span>  <span class="o">-</span><span class="mi">528</span><span class="p">,</span>  <span class="mi">704</span><span class="p">,</span>   <span class="mi">560</span><span class="p">,</span>   <span class="o">-</span><span class="mi">424</span><span class="p">,</span> <span class="mi">392</span><span class="p">,</span>
  <span class="mi">828</span><span class="p">,</span>   <span class="mi">40</span><span class="p">,</span>    <span class="mi">84</span><span class="p">,</span>    <span class="mi">200</span><span class="p">,</span>   <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>     <span class="o">-</span><span class="mi">144</span><span class="p">,</span>  <span class="mi">584</span><span class="p">,</span>   <span class="mi">280</span><span class="p">,</span>   <span class="o">-</span><span class="mi">120</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">556</span><span class="p">,</span>  <span class="o">-</span><span class="mi">972</span><span class="p">,</span>  <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="o">-</span><span class="mi">472</span><span class="p">,</span>  <span class="mi">724</span><span class="p">,</span>   <span class="mi">80</span><span class="p">,</span>    <span class="mi">168</span><span class="p">,</span>   <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="mi">88</span><span class="p">,</span>    <span class="mi">160</span><span class="p">,</span>  <span class="o">-</span><span class="mi">688</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>     <span class="mi">160</span><span class="p">,</span>   <span class="mi">356</span><span class="p">,</span>   <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">776</span><span class="p">,</span>  <span class="mi">740</span><span class="p">,</span>   <span class="o">-</span><span class="mi">128</span><span class="p">,</span>  <span class="mi">676</span><span class="p">,</span>   <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="o">-</span><span class="mi">480</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">364</span><span class="p">,</span>  <span class="mi">96</span><span class="p">,</span>    <span class="mi">544</span><span class="p">,</span>   <span class="mi">232</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1032</span><span class="p">,</span> <span class="mi">956</span><span class="p">,</span>   <span class="mi">236</span><span class="p">,</span>   <span class="mi">356</span><span class="p">,</span>   <span class="mi">20</span><span class="p">,</span>    <span class="o">-</span><span class="mi">40</span><span class="p">,</span>  <span class="mi">300</span><span class="p">,</span>
  <span class="mi">24</span><span class="p">,</span>    <span class="o">-</span><span class="mi">676</span><span class="p">,</span>  <span class="o">-</span><span class="mi">596</span><span class="p">,</span>  <span class="mi">132</span><span class="p">,</span>   <span class="mi">1120</span><span class="p">,</span>  <span class="o">-</span><span class="mi">104</span><span class="p">,</span>  <span class="mi">532</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1096</span><span class="p">,</span> <span class="mi">568</span><span class="p">,</span>   <span class="mi">648</span><span class="p">,</span>  <span class="mi">444</span><span class="p">,</span>
  <span class="mi">508</span><span class="p">,</span>   <span class="mi">380</span><span class="p">,</span>   <span class="mi">188</span><span class="p">,</span>   <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="o">-</span><span class="mi">604</span><span class="p">,</span>  <span class="mi">1488</span><span class="p">,</span>  <span class="mi">424</span><span class="p">,</span>   <span class="mi">24</span><span class="p">,</span>    <span class="mi">756</span><span class="p">,</span>   <span class="o">-</span><span class="mi">220</span><span class="p">,</span> <span class="o">-</span><span class="mi">192</span><span class="p">,</span>
  <span class="mi">716</span><span class="p">,</span>   <span class="mi">120</span><span class="p">,</span>   <span class="mi">920</span><span class="p">,</span>   <span class="mi">688</span><span class="p">,</span>   <span class="mi">168</span><span class="p">,</span>   <span class="mi">44</span><span class="p">,</span>    <span class="o">-</span><span class="mi">460</span><span class="p">,</span>  <span class="mi">568</span><span class="p">,</span>   <span class="mi">284</span><span class="p">,</span>   <span class="mi">1144</span><span class="p">,</span> <span class="mi">1160</span><span class="p">,</span>
  <span class="mi">600</span><span class="p">,</span>   <span class="mi">424</span><span class="p">,</span>   <span class="mi">888</span><span class="p">,</span>   <span class="mi">656</span><span class="p">,</span>   <span class="o">-</span><span class="mi">356</span><span class="p">,</span>  <span class="o">-</span><span class="mi">320</span><span class="p">,</span>  <span class="mi">220</span><span class="p">,</span>   <span class="mi">316</span><span class="p">,</span>   <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="o">-</span><span class="mi">724</span><span class="p">,</span> <span class="o">-</span><span class="mi">188</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">816</span><span class="p">,</span>  <span class="o">-</span><span class="mi">628</span><span class="p">,</span>  <span class="o">-</span><span class="mi">348</span><span class="p">,</span>  <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="o">-</span><span class="mi">380</span><span class="p">,</span>  <span class="mi">1012</span><span class="p">,</span>  <span class="o">-</span><span class="mi">452</span><span class="p">,</span>  <span class="o">-</span><span class="mi">660</span><span class="p">,</span>  <span class="mi">736</span><span class="p">,</span>   <span class="mi">928</span><span class="p">,</span>  <span class="mi">404</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">696</span><span class="p">,</span>  <span class="o">-</span><span class="mi">72</span><span class="p">,</span>   <span class="o">-</span><span class="mi">268</span><span class="p">,</span>  <span class="o">-</span><span class="mi">892</span><span class="p">,</span>  <span class="mi">128</span><span class="p">,</span>   <span class="mi">184</span><span class="p">,</span>   <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="o">-</span><span class="mi">780</span><span class="p">,</span>  <span class="mi">360</span><span class="p">,</span>   <span class="mi">336</span><span class="p">,</span>  <span class="mi">400</span><span class="p">,</span>
  <span class="mi">344</span><span class="p">,</span>   <span class="mi">428</span><span class="p">,</span>   <span class="mi">548</span><span class="p">,</span>   <span class="o">-</span><span class="mi">112</span><span class="p">,</span>  <span class="mi">136</span><span class="p">,</span>   <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="o">-</span><span class="mi">216</span><span class="p">,</span>  <span class="o">-</span><span class="mi">820</span><span class="p">,</span>  <span class="o">-</span><span class="mi">516</span><span class="p">,</span>  <span class="mi">340</span><span class="p">,</span>  <span class="mi">92</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">116</span><span class="p">,</span>   <span class="o">-</span><span class="mi">300</span><span class="p">,</span>  <span class="mi">376</span><span class="p">,</span>   <span class="o">-</span><span class="mi">244</span><span class="p">,</span>  <span class="mi">100</span><span class="p">,</span>   <span class="o">-</span><span class="mi">316</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="o">-</span><span class="mi">284</span><span class="p">,</span>  <span class="o">-</span><span class="mi">12</span><span class="p">,</span>  <span class="mi">824</span><span class="p">,</span>
  <span class="mi">164</span><span class="p">,</span>   <span class="o">-</span><span class="mi">548</span><span class="p">,</span>  <span class="o">-</span><span class="mi">180</span><span class="p">,</span>  <span class="o">-</span><span class="mi">128</span><span class="p">,</span>  <span class="mi">116</span><span class="p">,</span>   <span class="o">-</span><span class="mi">924</span><span class="p">,</span>  <span class="o">-</span><span class="mi">828</span><span class="p">,</span>  <span class="mi">268</span><span class="p">,</span>   <span class="o">-</span><span class="mi">368</span><span class="p">,</span>  <span class="o">-</span><span class="mi">580</span><span class="p">,</span> <span class="mi">620</span><span class="p">,</span>
  <span class="mi">192</span><span class="p">,</span>   <span class="mi">160</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>     <span class="o">-</span><span class="mi">1676</span><span class="p">,</span> <span class="mi">1068</span><span class="p">,</span>  <span class="mi">424</span><span class="p">,</span>   <span class="o">-</span><span class="mi">56</span><span class="p">,</span>   <span class="o">-</span><span class="mi">360</span><span class="p">,</span>  <span class="mi">468</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span>
  <span class="mi">288</span><span class="p">,</span>   <span class="o">-</span><span class="mi">528</span><span class="p">,</span>  <span class="mi">556</span><span class="p">,</span>   <span class="o">-</span><span class="mi">364</span><span class="p">,</span>  <span class="mi">548</span><span class="p">,</span>   <span class="o">-</span><span class="mi">148</span><span class="p">,</span>  <span class="mi">504</span><span class="p">,</span>   <span class="mi">316</span><span class="p">,</span>   <span class="mi">152</span><span class="p">,</span>   <span class="o">-</span><span class="mi">648</span><span class="p">,</span> <span class="o">-</span><span class="mi">620</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">684</span><span class="p">,</span>  <span class="o">-</span><span class="mi">24</span><span class="p">,</span>   <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="o">-</span><span class="mi">384</span><span class="p">,</span>  <span class="o">-</span><span class="mi">108</span><span class="p">,</span>  <span class="o">-</span><span class="mi">920</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1032</span><span class="p">,</span> <span class="mi">768</span><span class="p">,</span>   <span class="mi">180</span><span class="p">,</span>   <span class="o">-</span><span class="mi">264</span><span class="p">,</span> <span class="o">-</span><span class="mi">508</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1268</span><span class="p">,</span> <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="mi">300</span><span class="p">,</span>   <span class="o">-</span><span class="mi">240</span><span class="p">,</span>  <span class="mi">988</span><span class="p">,</span>   <span class="mi">724</span><span class="p">,</span>   <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="o">-</span><span class="mi">576</span><span class="p">,</span>  <span class="o">-</span><span class="mi">212</span><span class="p">,</span> <span class="o">-</span><span class="mi">736</span><span class="p">,</span>
  <span class="mi">556</span><span class="p">,</span>   <span class="mi">192</span><span class="p">,</span>   <span class="mi">1092</span><span class="p">,</span>  <span class="o">-</span><span class="mi">620</span><span class="p">,</span>  <span class="o">-</span><span class="mi">880</span><span class="p">,</span>  <span class="mi">376</span><span class="p">,</span>   <span class="o">-</span><span class="mi">56</span><span class="p">,</span>   <span class="o">-</span><span class="mi">4</span><span class="p">,</span>    <span class="o">-</span><span class="mi">216</span><span class="p">,</span>  <span class="o">-</span><span class="mi">32</span><span class="p">,</span>  <span class="mi">836</span><span class="p">,</span>
  <span class="mi">268</span><span class="p">,</span>   <span class="mi">396</span><span class="p">,</span>   <span class="mi">1332</span><span class="p">,</span>  <span class="mi">864</span><span class="p">,</span>   <span class="o">-</span><span class="mi">600</span><span class="p">,</span>  <span class="mi">100</span><span class="p">,</span>   <span class="mi">56</span><span class="p">,</span>    <span class="o">-</span><span class="mi">412</span><span class="p">,</span>  <span class="o">-</span><span class="mi">92</span><span class="p">,</span>   <span class="mi">356</span><span class="p">,</span>  <span class="mi">180</span><span class="p">,</span>
  <span class="mi">884</span><span class="p">,</span>   <span class="o">-</span><span class="mi">468</span><span class="p">,</span>  <span class="o">-</span><span class="mi">436</span><span class="p">,</span>  <span class="mi">292</span><span class="p">,</span>   <span class="o">-</span><span class="mi">388</span><span class="p">,</span>  <span class="o">-</span><span class="mi">804</span><span class="p">,</span>  <span class="o">-</span><span class="mi">704</span><span class="p">,</span>  <span class="o">-</span><span class="mi">840</span><span class="p">,</span>  <span class="mi">368</span><span class="p">,</span>   <span class="o">-</span><span class="mi">348</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">724</span><span class="p">,</span>  <span class="mi">1536</span><span class="p">,</span>  <span class="mi">940</span><span class="p">,</span>   <span class="mi">372</span><span class="p">,</span>   <span class="mi">112</span><span class="p">,</span>   <span class="o">-</span><span class="mi">372</span><span class="p">,</span>  <span class="mi">436</span><span class="p">,</span>   <span class="o">-</span><span class="mi">480</span><span class="p">,</span>  <span class="mi">1136</span><span class="p">,</span>  <span class="mi">296</span><span class="p">,</span>  <span class="o">-</span><span class="mi">32</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="mi">132</span><span class="p">,</span>   <span class="o">-</span><span class="mi">48</span><span class="p">,</span>   <span class="o">-</span><span class="mi">220</span><span class="p">,</span>  <span class="mi">868</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1016</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1044</span><span class="p">,</span> <span class="o">-</span><span class="mi">464</span><span class="p">,</span>  <span class="mi">328</span><span class="p">,</span>  <span class="mi">916</span><span class="p">,</span>
  <span class="mi">244</span><span class="p">,</span>   <span class="mi">12</span><span class="p">,</span>    <span class="o">-</span><span class="mi">736</span><span class="p">,</span>  <span class="o">-</span><span class="mi">296</span><span class="p">,</span>  <span class="mi">360</span><span class="p">,</span>   <span class="mi">468</span><span class="p">,</span>   <span class="o">-</span><span class="mi">376</span><span class="p">,</span>  <span class="o">-</span><span class="mi">108</span><span class="p">,</span>  <span class="o">-</span><span class="mi">92</span><span class="p">,</span>   <span class="mi">788</span><span class="p">,</span>  <span class="mi">368</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">56</span><span class="p">,</span>   <span class="mi">544</span><span class="p">,</span>   <span class="mi">400</span><span class="p">,</span>   <span class="o">-</span><span class="mi">672</span><span class="p">,</span>  <span class="o">-</span><span class="mi">420</span><span class="p">,</span>  <span class="mi">728</span><span class="p">,</span>   <span class="mi">16</span><span class="p">,</span>    <span class="mi">320</span><span class="p">,</span>   <span class="mi">44</span><span class="p">,</span>    <span class="o">-</span><span class="mi">284</span><span class="p">,</span> <span class="o">-</span><span class="mi">380</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">796</span><span class="p">,</span>  <span class="mi">488</span><span class="p">,</span>   <span class="mi">132</span><span class="p">,</span>   <span class="mi">204</span><span class="p">,</span>   <span class="o">-</span><span class="mi">596</span><span class="p">,</span>  <span class="o">-</span><span class="mi">372</span><span class="p">,</span>  <span class="mi">88</span><span class="p">,</span>    <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="o">-</span><span class="mi">908</span><span class="p">,</span>  <span class="o">-</span><span class="mi">636</span><span class="p">,</span> <span class="o">-</span><span class="mi">572</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">624</span><span class="p">,</span>  <span class="o">-</span><span class="mi">116</span><span class="p">,</span>  <span class="o">-</span><span class="mi">692</span><span class="p">,</span>  <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="o">-</span><span class="mi">56</span><span class="p">,</span>   <span class="mi">276</span><span class="p">,</span>   <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="mi">484</span><span class="p">,</span>   <span class="o">-</span><span class="mi">324</span><span class="p">,</span>  <span class="mi">948</span><span class="p">,</span>  <span class="mi">864</span><span class="p">,</span>
  <span class="mi">1000</span><span class="p">,</span>  <span class="o">-</span><span class="mi">456</span><span class="p">,</span>  <span class="o">-</span><span class="mi">184</span><span class="p">,</span>  <span class="o">-</span><span class="mi">276</span><span class="p">,</span>  <span class="mi">292</span><span class="p">,</span>   <span class="o">-</span><span class="mi">296</span><span class="p">,</span>  <span class="mi">156</span><span class="p">,</span>   <span class="mi">676</span><span class="p">,</span>   <span class="mi">320</span><span class="p">,</span>   <span class="mi">160</span><span class="p">,</span>  <span class="mi">908</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1236</span><span class="p">,</span> <span class="o">-</span><span class="mi">288</span><span class="p">,</span>  <span class="o">-</span><span class="mi">116</span><span class="p">,</span>  <span class="mi">260</span><span class="p">,</span>   <span class="o">-</span><span class="mi">372</span><span class="p">,</span>  <span class="o">-</span><span class="mi">644</span><span class="p">,</span>  <span class="mi">732</span><span class="p">,</span>   <span class="o">-</span><span class="mi">756</span><span class="p">,</span>  <span class="o">-</span><span class="mi">96</span><span class="p">,</span>  <span class="mi">84</span><span class="p">,</span>
  <span class="mi">344</span><span class="p">,</span>   <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="mi">348</span><span class="p">,</span>   <span class="o">-</span><span class="mi">688</span><span class="p">,</span>  <span class="mi">240</span><span class="p">,</span>   <span class="o">-</span><span class="mi">84</span><span class="p">,</span>   <span class="mi">216</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1044</span><span class="p">,</span> <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="o">-</span><span class="mi">676</span><span class="p">,</span> <span class="o">-</span><span class="mi">396</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">1500</span><span class="p">,</span> <span class="mi">960</span><span class="p">,</span>   <span class="o">-</span><span class="mi">40</span><span class="p">,</span>   <span class="mi">176</span><span class="p">,</span>   <span class="mi">168</span><span class="p">,</span>   <span class="mi">1516</span><span class="p">,</span>  <span class="mi">420</span><span class="p">,</span>   <span class="o">-</span><span class="mi">504</span><span class="p">,</span>  <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="o">-</span><span class="mi">364</span><span class="p">,</span> <span class="o">-</span><span class="mi">360</span><span class="p">,</span>
  <span class="mi">1216</span><span class="p">,</span>  <span class="o">-</span><span class="mi">940</span><span class="p">,</span>  <span class="o">-</span><span class="mi">380</span><span class="p">,</span>  <span class="o">-</span><span class="mi">212</span><span class="p">,</span>  <span class="mi">252</span><span class="p">,</span>   <span class="o">-</span><span class="mi">660</span><span class="p">,</span>  <span class="o">-</span><span class="mi">708</span><span class="p">,</span>  <span class="mi">484</span><span class="p">,</span>   <span class="o">-</span><span class="mi">444</span><span class="p">,</span>  <span class="o">-</span><span class="mi">152</span><span class="p">,</span> <span class="mi">928</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">120</span><span class="p">,</span>  <span class="mi">1112</span><span class="p">,</span>  <span class="mi">476</span><span class="p">,</span>   <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">560</span><span class="p">,</span>   <span class="o">-</span><span class="mi">148</span><span class="p">,</span>  <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="mi">108</span><span class="p">,</span>   <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="mi">228</span><span class="p">,</span>  <span class="o">-</span><span class="mi">288</span><span class="p">,</span>
  <span class="mi">504</span><span class="p">,</span>   <span class="mi">560</span><span class="p">,</span>   <span class="o">-</span><span class="mi">328</span><span class="p">,</span>  <span class="o">-</span><span class="mi">88</span><span class="p">,</span>   <span class="mi">288</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1008</span><span class="p">,</span> <span class="mi">460</span><span class="p">,</span>   <span class="o">-</span><span class="mi">228</span><span class="p">,</span>  <span class="mi">468</span><span class="p">,</span>   <span class="o">-</span><span class="mi">836</span><span class="p">,</span> <span class="o">-</span><span class="mi">196</span><span class="p">,</span>
  <span class="mi">76</span><span class="p">,</span>    <span class="mi">388</span><span class="p">,</span>   <span class="mi">232</span><span class="p">,</span>   <span class="mi">412</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1168</span><span class="p">,</span> <span class="o">-</span><span class="mi">716</span><span class="p">,</span>  <span class="o">-</span><span class="mi">644</span><span class="p">,</span>  <span class="mi">756</span><span class="p">,</span>   <span class="o">-</span><span class="mi">172</span><span class="p">,</span>  <span class="o">-</span><span class="mi">356</span><span class="p">,</span> <span class="o">-</span><span class="mi">504</span><span class="p">,</span>
  <span class="mi">116</span><span class="p">,</span>   <span class="mi">432</span><span class="p">,</span>   <span class="mi">528</span><span class="p">,</span>   <span class="mi">48</span><span class="p">,</span>    <span class="mi">476</span><span class="p">,</span>   <span class="o">-</span><span class="mi">168</span><span class="p">,</span>  <span class="o">-</span><span class="mi">608</span><span class="p">,</span>  <span class="mi">448</span><span class="p">,</span>   <span class="mi">160</span><span class="p">,</span>   <span class="o">-</span><span class="mi">532</span><span class="p">,</span> <span class="o">-</span><span class="mi">272</span><span class="p">,</span>
  <span class="mi">28</span><span class="p">,</span>    <span class="o">-</span><span class="mi">676</span><span class="p">,</span>  <span class="o">-</span><span class="mi">12</span><span class="p">,</span>   <span class="mi">828</span><span class="p">,</span>   <span class="mi">980</span><span class="p">,</span>   <span class="mi">456</span><span class="p">,</span>   <span class="mi">520</span><span class="p">,</span>   <span class="mi">104</span><span class="p">,</span>   <span class="o">-</span><span class="mi">104</span><span class="p">,</span>  <span class="mi">256</span><span class="p">,</span>  <span class="o">-</span><span class="mi">344</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">4</span><span class="p">,</span>    <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="o">-</span><span class="mi">368</span><span class="p">,</span>  <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="o">-</span><span class="mi">524</span><span class="p">,</span>  <span class="o">-</span><span class="mi">572</span><span class="p">,</span>  <span class="o">-</span><span class="mi">556</span><span class="p">,</span>  <span class="o">-</span><span class="mi">200</span><span class="p">,</span>  <span class="mi">768</span><span class="p">,</span>   <span class="mi">1124</span><span class="p">,</span> <span class="o">-</span><span class="mi">208</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">512</span><span class="p">,</span>  <span class="mi">176</span><span class="p">,</span>   <span class="mi">232</span><span class="p">,</span>   <span class="mi">248</span><span class="p">,</span>   <span class="o">-</span><span class="mi">148</span><span class="p">,</span>  <span class="o">-</span><span class="mi">888</span><span class="p">,</span>  <span class="mi">604</span><span class="p">,</span>   <span class="o">-</span><span class="mi">600</span><span class="p">,</span>  <span class="o">-</span><span class="mi">304</span><span class="p">,</span>  <span class="mi">804</span><span class="p">,</span>  <span class="o">-</span><span class="mi">156</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">212</span><span class="p">,</span>  <span class="mi">488</span><span class="p">,</span>   <span class="o">-</span><span class="mi">192</span><span class="p">,</span>  <span class="o">-</span><span class="mi">804</span><span class="p">,</span>  <span class="o">-</span><span class="mi">256</span><span class="p">,</span>  <span class="mi">368</span><span class="p">,</span>   <span class="o">-</span><span class="mi">360</span><span class="p">,</span>  <span class="o">-</span><span class="mi">916</span><span class="p">,</span>  <span class="o">-</span><span class="mi">328</span><span class="p">,</span>  <span class="mi">228</span><span class="p">,</span>  <span class="o">-</span><span class="mi">240</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">448</span><span class="p">,</span>  <span class="o">-</span><span class="mi">472</span><span class="p">,</span>  <span class="mi">856</span><span class="p">,</span>   <span class="o">-</span><span class="mi">556</span><span class="p">,</span>  <span class="o">-</span><span class="mi">364</span><span class="p">,</span>  <span class="mi">572</span><span class="p">,</span>   <span class="o">-</span><span class="mi">12</span><span class="p">,</span>   <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="o">-</span><span class="mi">368</span><span class="p">,</span>  <span class="o">-</span><span class="mi">340</span><span class="p">,</span> <span class="mi">432</span><span class="p">,</span>
  <span class="mi">252</span><span class="p">,</span>   <span class="o">-</span><span class="mi">752</span><span class="p">,</span>  <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="mi">288</span><span class="p">,</span>   <span class="mi">268</span><span class="p">,</span>   <span class="o">-</span><span class="mi">580</span><span class="p">,</span>  <span class="o">-</span><span class="mi">848</span><span class="p">,</span>  <span class="o">-</span><span class="mi">592</span><span class="p">,</span>  <span class="mi">108</span><span class="p">,</span>   <span class="o">-</span><span class="mi">76</span><span class="p">,</span>  <span class="mi">244</span><span class="p">,</span>
  <span class="mi">312</span><span class="p">,</span>   <span class="o">-</span><span class="mi">716</span><span class="p">,</span>  <span class="mi">592</span><span class="p">,</span>   <span class="o">-</span><span class="mi">80</span><span class="p">,</span>   <span class="mi">436</span><span class="p">,</span>   <span class="mi">360</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>     <span class="o">-</span><span class="mi">248</span><span class="p">,</span>  <span class="mi">160</span><span class="p">,</span>   <span class="mi">516</span><span class="p">,</span>  <span class="mi">584</span><span class="p">,</span>
  <span class="mi">732</span><span class="p">,</span>   <span class="mi">44</span><span class="p">,</span>    <span class="o">-</span><span class="mi">468</span><span class="p">,</span>  <span class="o">-</span><span class="mi">280</span><span class="p">,</span>  <span class="o">-</span><span class="mi">292</span><span class="p">,</span>  <span class="o">-</span><span class="mi">156</span><span class="p">,</span>  <span class="o">-</span><span class="mi">588</span><span class="p">,</span>  <span class="mi">28</span><span class="p">,</span>    <span class="mi">308</span><span class="p">,</span>   <span class="mi">912</span><span class="p">,</span>  <span class="mi">24</span><span class="p">,</span>
  <span class="mi">124</span><span class="p">,</span>   <span class="mi">156</span><span class="p">,</span>   <span class="mi">180</span><span class="p">,</span>   <span class="o">-</span><span class="mi">252</span><span class="p">,</span>  <span class="mi">944</span><span class="p">,</span>   <span class="o">-</span><span class="mi">924</span><span class="p">,</span>  <span class="o">-</span><span class="mi">772</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="o">-</span><span class="mi">428</span><span class="p">,</span>  <span class="o">-</span><span class="mi">624</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">212</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1144</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span>    <span class="o">-</span><span class="mi">724</span><span class="p">,</span>  <span class="mi">800</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1128</span><span class="p">,</span> <span class="o">-</span><span class="mi">212</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1288</span><span class="p">,</span> <span class="o">-</span><span class="mi">848</span><span class="p">,</span>  <span class="mi">180</span><span class="p">,</span>  <span class="o">-</span><span class="mi">416</span><span class="p">,</span>
  <span class="mi">440</span><span class="p">,</span>   <span class="mi">192</span><span class="p">,</span>   <span class="o">-</span><span class="mi">576</span><span class="p">,</span>  <span class="o">-</span><span class="mi">792</span><span class="p">,</span>  <span class="o">-</span><span class="mi">76</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1080</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span>    <span class="o">-</span><span class="mi">532</span><span class="p">,</span>  <span class="o">-</span><span class="mi">352</span><span class="p">,</span>  <span class="o">-</span><span class="mi">132</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">820</span><span class="p">,</span>  <span class="mi">148</span><span class="p">,</span>   <span class="mi">1112</span><span class="p">,</span>  <span class="mi">128</span><span class="p">,</span>   <span class="mi">164</span><span class="p">,</span>   <span class="mi">456</span><span class="p">,</span>   <span class="mi">700</span><span class="p">,</span>   <span class="o">-</span><span class="mi">924</span><span class="p">,</span>  <span class="mi">144</span><span class="p">,</span>   <span class="o">-</span><span class="mi">668</span><span class="p">,</span> <span class="o">-</span><span class="mi">384</span><span class="p">,</span>
  <span class="mi">648</span><span class="p">,</span>   <span class="o">-</span><span class="mi">832</span><span class="p">,</span>  <span class="mi">508</span><span class="p">,</span>   <span class="mi">552</span><span class="p">,</span>   <span class="o">-</span><span class="mi">52</span><span class="p">,</span>   <span class="o">-</span><span class="mi">100</span><span class="p">,</span>  <span class="o">-</span><span class="mi">656</span><span class="p">,</span>  <span class="mi">208</span><span class="p">,</span>   <span class="o">-</span><span class="mi">568</span><span class="p">,</span>  <span class="mi">748</span><span class="p">,</span>  <span class="o">-</span><span class="mi">88</span><span class="p">,</span>
  <span class="mi">680</span><span class="p">,</span>   <span class="mi">232</span><span class="p">,</span>   <span class="mi">300</span><span class="p">,</span>   <span class="mi">192</span><span class="p">,</span>   <span class="o">-</span><span class="mi">408</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1012</span><span class="p">,</span> <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="o">-</span><span class="mi">252</span><span class="p">,</span>  <span class="o">-</span><span class="mi">268</span><span class="p">,</span>  <span class="mi">272</span><span class="p">,</span>  <span class="o">-</span><span class="mi">876</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">664</span><span class="p">,</span>  <span class="o">-</span><span class="mi">648</span><span class="p">,</span>  <span class="o">-</span><span class="mi">332</span><span class="p">,</span>  <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">16</span><span class="p">,</span>    <span class="mi">12</span><span class="p">,</span>    <span class="mi">1152</span><span class="p">,</span>  <span class="o">-</span><span class="mi">28</span><span class="p">,</span>   <span class="mi">332</span><span class="p">,</span>   <span class="o">-</span><span class="mi">536</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">672</span><span class="p">,</span>  <span class="o">-</span><span class="mi">460</span><span class="p">,</span>  <span class="o">-</span><span class="mi">316</span><span class="p">,</span>  <span class="mi">532</span><span class="p">,</span>   <span class="o">-</span><span class="mi">260</span><span class="p">,</span>  <span class="mi">228</span><span class="p">,</span>   <span class="o">-</span><span class="mi">40</span><span class="p">,</span>   <span class="mi">1052</span><span class="p">,</span>  <span class="o">-</span><span class="mi">816</span><span class="p">,</span>  <span class="mi">180</span><span class="p">,</span>  <span class="mi">88</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">496</span><span class="p">,</span>  <span class="o">-</span><span class="mi">556</span><span class="p">,</span>  <span class="o">-</span><span class="mi">672</span><span class="p">,</span>  <span class="o">-</span><span class="mi">368</span><span class="p">,</span>  <span class="mi">428</span><span class="p">,</span>   <span class="mi">92</span><span class="p">,</span>    <span class="mi">356</span><span class="p">,</span>   <span class="mi">404</span><span class="p">,</span>   <span class="o">-</span><span class="mi">408</span><span class="p">,</span>  <span class="mi">252</span><span class="p">,</span>  <span class="mi">196</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">176</span><span class="p">,</span>  <span class="o">-</span><span class="mi">556</span><span class="p">,</span>  <span class="mi">792</span><span class="p">,</span>   <span class="mi">268</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="mi">372</span><span class="p">,</span>   <span class="mi">40</span><span class="p">,</span>    <span class="mi">96</span><span class="p">,</span>    <span class="o">-</span><span class="mi">332</span><span class="p">,</span>  <span class="mi">328</span><span class="p">,</span>  <span class="mi">120</span><span class="p">,</span>
  <span class="mi">372</span><span class="p">,</span>   <span class="o">-</span><span class="mi">900</span><span class="p">,</span>  <span class="o">-</span><span class="mi">40</span><span class="p">,</span>   <span class="mi">472</span><span class="p">,</span>   <span class="o">-</span><span class="mi">264</span><span class="p">,</span>  <span class="o">-</span><span class="mi">592</span><span class="p">,</span>  <span class="mi">952</span><span class="p">,</span>   <span class="mi">128</span><span class="p">,</span>   <span class="mi">656</span><span class="p">,</span>   <span class="mi">112</span><span class="p">,</span>  <span class="mi">664</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">232</span><span class="p">,</span>  <span class="mi">420</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>     <span class="o">-</span><span class="mi">344</span><span class="p">,</span>  <span class="o">-</span><span class="mi">464</span><span class="p">,</span>  <span class="mi">556</span><span class="p">,</span>   <span class="mi">244</span><span class="p">,</span>   <span class="o">-</span><span class="mi">416</span><span class="p">,</span>  <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="mi">252</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">412</span><span class="p">,</span>  <span class="mi">188</span><span class="p">,</span>   <span class="o">-</span><span class="mi">696</span><span class="p">,</span>  <span class="mi">508</span><span class="p">,</span>   <span class="o">-</span><span class="mi">476</span><span class="p">,</span>  <span class="mi">324</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1096</span><span class="p">,</span> <span class="mi">656</span><span class="p">,</span>   <span class="o">-</span><span class="mi">312</span><span class="p">,</span>  <span class="mi">560</span><span class="p">,</span>  <span class="mi">264</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">304</span><span class="p">,</span>   <span class="mi">160</span><span class="p">,</span>   <span class="o">-</span><span class="mi">64</span><span class="p">,</span>   <span class="o">-</span><span class="mi">580</span><span class="p">,</span>  <span class="mi">248</span><span class="p">,</span>   <span class="mi">336</span><span class="p">,</span>   <span class="o">-</span><span class="mi">720</span><span class="p">,</span>  <span class="mi">560</span><span class="p">,</span>   <span class="o">-</span><span class="mi">348</span><span class="p">,</span> <span class="o">-</span><span class="mi">288</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">276</span><span class="p">,</span>  <span class="o">-</span><span class="mi">196</span><span class="p">,</span>  <span class="o">-</span><span class="mi">500</span><span class="p">,</span>  <span class="mi">852</span><span class="p">,</span>   <span class="o">-</span><span class="mi">544</span><span class="p">,</span>  <span class="o">-</span><span class="mi">236</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1128</span><span class="p">,</span> <span class="o">-</span><span class="mi">992</span><span class="p">,</span>  <span class="o">-</span><span class="mi">776</span><span class="p">,</span>  <span class="mi">116</span><span class="p">,</span>  <span class="mi">56</span><span class="p">,</span>
  <span class="mi">52</span><span class="p">,</span>    <span class="mi">860</span><span class="p">,</span>   <span class="mi">884</span><span class="p">,</span>   <span class="mi">212</span><span class="p">,</span>   <span class="o">-</span><span class="mi">12</span><span class="p">,</span>   <span class="mi">168</span><span class="p">,</span>   <span class="mi">1020</span><span class="p">,</span>  <span class="mi">512</span><span class="p">,</span>   <span class="o">-</span><span class="mi">552</span><span class="p">,</span>  <span class="mi">924</span><span class="p">,</span>  <span class="o">-</span><span class="mi">148</span><span class="p">,</span>
  <span class="mi">716</span><span class="p">,</span>   <span class="mi">188</span><span class="p">,</span>   <span class="mi">164</span><span class="p">,</span>   <span class="o">-</span><span class="mi">340</span><span class="p">,</span>  <span class="o">-</span><span class="mi">520</span><span class="p">,</span>  <span class="o">-</span><span class="mi">184</span><span class="p">,</span>  <span class="mi">880</span><span class="p">,</span>   <span class="o">-</span><span class="mi">152</span><span class="p">,</span>  <span class="o">-</span><span class="mi">680</span><span class="p">,</span>  <span class="o">-</span><span class="mi">208</span><span class="p">,</span> <span class="o">-</span><span class="mi">1156</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">300</span><span class="p">,</span>  <span class="o">-</span><span class="mi">528</span><span class="p">,</span>  <span class="o">-</span><span class="mi">472</span><span class="p">,</span>  <span class="mi">364</span><span class="p">,</span>   <span class="mi">100</span><span class="p">,</span>   <span class="o">-</span><span class="mi">744</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1056</span><span class="p">,</span> <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="mi">540</span><span class="p">,</span>   <span class="mi">280</span><span class="p">,</span>  <span class="mi">144</span><span class="p">,</span>
  <span class="o">-</span><span class="mi">676</span><span class="p">,</span>  <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="o">-</span><span class="mi">232</span><span class="p">,</span>  <span class="o">-</span><span class="mi">280</span><span class="p">,</span>  <span class="o">-</span><span class="mi">224</span><span class="p">,</span>  <span class="mi">96</span><span class="p">,</span>    <span class="mi">568</span><span class="p">,</span>   <span class="o">-</span><span class="mi">76</span><span class="p">,</span>   <span class="mi">172</span><span class="p">,</span>   <span class="mi">148</span><span class="p">,</span>  <span class="mi">148</span><span class="p">,</span>
  <span class="mi">104</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="o">-</span><span class="mi">296</span><span class="p">,</span>  <span class="o">-</span><span class="mi">32</span><span class="p">,</span>   <span class="mi">788</span><span class="p">,</span>   <span class="o">-</span><span class="mi">80</span><span class="p">,</span>   <span class="mi">32</span><span class="p">,</span>    <span class="o">-</span><span class="mi">16</span><span class="p">,</span>   <span class="mi">280</span><span class="p">,</span>   <span class="mi">288</span><span class="p">,</span>  <span class="mi">944</span><span class="p">,</span>
  <span class="mi">428</span><span class="p">,</span>   <span class="o">-</span><span class="mi">484</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="annex">
  <h2 class="no_count" id="annex-a-conformance-to-video-decoders-profiles-and-levels">Annex A: Conformance to video decoders’ profiles and levels</h2>

  <h3 id="general">General</h3>

  <p>Profiles and levels of video coding specification specify restrictions on the capabilities 
needed to decode the bitstreams.</p>

  <p>The profile specifies the bit depth and subsampling formats supported, while the
level defines resolution and performance characteristics.</p>

  <h3 id="conformance">Conformance</h3>

  <p>A film grain synthesis module compliant to level X.Y of a video decoder must be able to correctly and on time generate 
film grain for all bitstreams (that can be decoded by the general decoding process of the video codec) that conform to that level.</p>

  <p>When doing that, the film grain synthesis module must be able to produce output frames according to
the display schedule if such is indicated by the bitstream.</p>

</div>

<h2 class="no_count" id="bibliography">Bibliography</h2>

<ol>
  <li>AV1 Bitstream &amp; Decoding Process Specification, Version 1.0.0 with Errata 1,   2019-01-08</li>
  <li>Rec. ITU-T T.35:2000, Procedure for the allocation of ITU-T defined codes for non standard facilities.</li>
</ol>


      </div>
    </div>
  </div>
  <script>
    anchors.options.visible = 'always';
    anchors.add();
  </script>
</body>
</html>
